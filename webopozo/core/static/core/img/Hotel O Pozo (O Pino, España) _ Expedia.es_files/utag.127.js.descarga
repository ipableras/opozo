//tealium universal tag - utag.127 ut4.0.201912311012, Copyright 2019 Tealium.com Inc. All Rights Reserved.
window.Krux||((Krux=function(){Krux.q.push(arguments)}).q=[]);try{(function(id,loader){var u={"id":id};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}
u.ev={"view":1};u.map={"device_type":"site_platform","dom.domain":"lob","expUserProfileId":"expedia_user_id","funnelLocation":"pagetype","hotelBrand":"hotel_brand","hotelId":"hotel_id","hotelName":"hotel_name","lengthOfStay":"length_of_stay","numAdults":"adults","numChildren":"children","numberOfGuests":"total_guests","numberOfRooms":"number_of_rooms","regionId":"destination_id","roomNights":"number_of_nights","siteId":"site_id","starRating":"star_rating","state":"state_name","tuid":"tuid","siteName":"domain","qp.destination":"destination","bookingWindow":"booking_window","checkInDate":"trip_start_date","checkOutDate":"trip_end_date","city":"city_name","siteCountryCode":"country_code","loggedUser":"sign_in_state","language":"language"};u.extend=[];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){utag.DB("send:127");utag.DB(b);var c,d,e,f;u.data={"confid":"q1jglrva2"};utag.DB("send:127:EXTENSIONS");utag.DB(b);for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
utag.DB("send:127:MAPPINGS");utag.DB(u.data);if(!u.data.confid){utag.DB(u.id+": Tag not fired: Required attribute not populated");return;}
if(b['ut.profile']==='pwa-bex'&&(b['context.privacyContext.canSell']===false||b['ccpa_value']===0)){Krux("ns:expedia","consent:set",{dc:true,al:true,tg:false,cd:true,sh:false,re:false});}
(function(){var k=document.createElement('script');k.type='text/javascript';k.async=true;k.src=(location.protocol==="https:"?"https:":"http:")+"//cdn.krxd.net/controltag/"+u.data.confid+".js";var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(k,s);}());utag.DB("send:127:COMPLETE");}};utag.o[loader].loader.LOAD(id);}("127","expedia.pwa-bex"));}catch(error){utag.DB(error);}
