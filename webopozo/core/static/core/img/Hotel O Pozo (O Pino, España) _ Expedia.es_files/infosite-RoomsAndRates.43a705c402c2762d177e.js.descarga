(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"HYM+":function(e,t,n){n.r(t);var r,a=n("GiK3"),o=n("OSg3"),i=n("B1JX"),l=n("zBEt"),s=n("vc39"),c=n("AQYs"),u=n("ONBj"),p=n("V9Dl"),m=n("AsPI"),d=n("17M8"),f=n("cYcL"),y=n("KSGD"),h=n("ZM0B"),g=n("Mlow"),v=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},k=function(e){function t(t){return e.call(this,t)||this}return v(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.analytics,n=e.message;t&&"function"==typeof t.trackEvent&&n&&n.titleModel&&n.titleModel.theme&&t.trackEvent("priceTrendsMessage:"+n.titleModel.theme,"Mounting price trend message",t.omnitureData)},t.prototype.render=function(){var e=this.props.message;return e?a.createElement("li",{className:"uitk-cell"},a.createElement(h.UitkMessagingCard,{imageLayout:h.UitkMessagingCardImageLayout.LEFT},a.createElement(h.UitkMessagingCardMedia,null,a.createElement(g.UitkFigure,{ratio:g.UitkFigure.AspectRatio.R1_1,src:e.titleModel.icon})),a.createElement(h.UitkMessagingCardSection,{heading:e.titleModel.text,headingLevel:"h4"},a.createElement("p",{className:"uitk-type-300"},e.subtitleModel.text)))):null},t=E([Object(o.inject)("analytics")],t)}(a.Component),b=n("T3U3"),P=n("y5TW"),O=n("zqAW"),_=n("CYWc"),R=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=Object(O.ClickTracker)(_.UitkPrimaryButton),D=function(e){function t(t){var n=e.call(this,t)||this;return n.openDatepicker=function(){n.props.routeStore.updateSearch({pwaDialog:"datepicker-start"})},n.state={initialized:!1},n}return R(t,e),t.prototype.componentDidMount=function(){this.setState({initialized:!0})},t.prototype.render=function(){var e=this.state.initialized;return a.createElement("div",{className:"uitk-grid all-x-gutter-three all-grid-align-middle"},a.createElement("div",{className:"uitk-cell all-cell-fill uitk-type-right"},a.createElement(w,{hotelPosition:this.props.hotelPosition,onClick:this.openDatepicker,mounted:e})))},t}(a.Component),w=function(e){var t=e.hotelPosition,n=e.onClick,r=e.mounted;return a.createElement(C,{onClick:n,linkName:"Go to select dates",rfrr:"ROOM["+t+"].CHOOSEDATE.CTA",disabled:!r},a.createElement(c.LocalizedText,{message:"hotels.infosite.roomSelection.dateless.ctabutton.label"}))};w.displayName="ChooseDatesCTAButton";var x=n("3u11"),N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e){function t(t){return e.call(this,t)||this}return N(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.roomAmenities,r=e.iconSize,o=e.listClasses,i=e.amenityItemClasses;if(!n||0===n.length)return null;var l=Object(f.classNames)(t,o,{"uitk-grid":n.length>3});return a.createElement("div",{className:"room-amenities"},a.createElement("h3",{className:"is-visually-hidden"},"Room Amenities"),a.createElement("div",{className:"amenities__list all-t-padding-one"},a.createElement("ul",{className:l},n&&n.map(function(e,t){var n=e.icon?e:Object(x.a)(e);return a.createElement(T,{amenity:n,amenityItemClasses:i,index:t,key:t,iconSize:r})}))))},t.defaultProps={iconSize:P.UitkIconSize.MEDIUM,listClasses:["no-bullet","uitk-type-200","pwa-theme--grey-700"]},t}(a.PureComponent),T=function(e){var t=e.amenity,n=e.amenityItemClasses,r=e.iconSize,o=void 0===r?P.UitkIconSize.MEDIUM:r,i=e.index;if(t&&t.description){return a.createElement("li",{className:n||"uitk-cell s-cell-1-3 m-cell-1-3 l-cell-1-2 xl-cell-1-2 s-y-margin-two m-y-margin-two",key:"amenity-"+i+"-"+t.description},a.createElement(P.UitkIcon,{id:"amenity-icon-"+t.icon,name:t.icon,size:o,"aria-hidden":"true"}),a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement("span",{className:"amenities-icon-description"},t.description)),a.createElement(s.ViewMedium,null,a.createElement("span",{className:"all-l-padding-two"},t.description))))}return null};T.displayName="AmenityItem";var A=function(e){var t=e.amenityItemClasses,n=e.className,r=e.iconSize,o=e.listClasses,i=e.room,l=e.roomAmenities||i&&i.roomAmenities;return a.createElement("div",{"data-stid":"content-room-amenities-grid"},l&&l.length>0&&a.createElement(S,{amenityItemClasses:t,className:n,iconSize:r,roomAmenities:l,listClasses:o}))};A.displayName="RoomDetailsAmenities";var j=n("O27J"),I=n("Dhs5"),M=n("30tf"),L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return L(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=e.evaluateForExperiment,r=void 0===n||n;return t&&0!==t.length?r?a.createElement(l.AbacusExperiment,{name:"PWA_PDP_Lshop_BTO_Modal_Sleeps"},a.createElement(l.AbacusControl,null,a.createElement(U,{options:t})),a.createElement(l.AbacusVariant,{bucket:1},a.createElement(b.UitkCardTextSegment,{"data-stid":"room-info-bedding-options"},a.createElement("h3",{className:"uitk-type-heading-400 all-b-margin-three","data-stid":"room-info-bedding-options-title"},a.createElement(c.LocalizedText,{message:"hotels.infosite.roomInfoDialog.bedDetails.title.sentenceCase"})),a.createElement("div",{className:"uitk-cell bedding-options l-cell-1-6 xl-cell-1-6"},a.createElement("div",{className:"pwa-theme--grey-700"},a.createElement(P.UitkIcon,{className:"all-r-padding-one all-b-margin-one",name:"bed",size:P.UitkIconSize.SMALL}),a.createElement("span",{"data-stid":"content-room-beddingoptions-inline"},t&&t.map(function(e,t){return a.createElement("span",{key:"bedding-"+e.name+"-"+t},t>0&&a.createElement("span",{className:"all-l-padding-one"},a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.room.multipleOptions.or.text"})),a.createElement("span",{"data-stid":"content-room-beddingoptions"}," ",e.name.toLowerCase()))}))))))):a.createElement(U,{options:t}):null},t.propTypes={options:o.PropTypes.arrayOrObservableArrayOf(y.shape({icon:y.string,name:y.string}))},t}(a.PureComponent),U=function(e){var t=e.options;return a.createElement(b.UitkCardTextSegment,{"data-stid":"room-info-bedding-options",separator:b.UitkCardTextSegment.Separator.BOTTOM},a.createElement("h3",{className:"uitk-type-heading-400 all-b-margin-three","data-stid":"room-info-bedding-options-title"},a.createElement(c.LocalizedText,{message:"hotels.infosite.roomInfoDialog.bedDetails.title.sentenceCase"})),a.createElement("div",{className:"uitk-cell bedding-options l-cell-1-6 xl-cell-1-6"},a.createElement("dl",{className:"uitk-grid all-cell-1-1 all-grid-align-center pwa-theme--grey-700"},a.createElement("dt",{className:"uitk-cell all-y-gutter-one uitk-type-center bedding-options__icon"},a.createElement(P.UitkIcon,{name:"bed"}),a.createElement("span",{className:"is-visually-hidden"},a.createElement(c.LocalizedText,{message:"hotels.infosite.roomInfoDialog.bedDetails.title"}))),t&&t.map(function(e,t){return a.createElement("dd",{className:"uitk-cell all-y-gutter-one uitk-type-center bedding-options__option",key:"bedding-"+e.name+"-"+t},t>0&&a.createElement("span",{className:"bedding-options__delimiter pwa-theme--grey-600 all-r-margin-two"},a.createElement(c.LocalizedText,{message:"common.or"})),a.createElement("span",{"data-stid":"content-room-beddingoptions"},e.name))}))))},F=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},H=function(e){function t(t){var n=e.call(this,t)||this;return n.renderMarkup=function(e){return{__html:e}},n}return F(t,e),t.prototype.render=function(){var e=this.props,t=e.room,n=e.l10n;if(!t)return null;var r=t.beddingOptions,o=t.description,i=t.maxOccupancy,l=r&&r.length>0,s=i&&(i.people||i.adults||i.children);return a.createElement("div",{className:"is-hidden room-info-crawlable__wrapper"},(l||s||o)&&a.createElement("h2",null,n.formatText("hotels.infosite.roomInfoDialog.title")),l&&a.createElement("div",{className:"bedding-options__wrapper"},a.createElement("h3",null,n.formatText("hotels.infosite.roomInfoDialog.bedDetails.title.sentenceCase")),a.createElement(B,{options:r,evaluateForExperiment:!1})),s&&a.createElement("div",{className:"max-occupancy"},a.createElement("h3",null,n.formatText("hotels.infosite.roomInfoDialog.sleeps.title")),a.createElement("ul",{className:"no-bullet","data-stid":"room-info-max-occupancy-list"},i.people&&n.formatText("hotels.infosite.roomInfoDialog.maxPeople.text",i.people),i.adults&&n.formatText("hotels.infosite.roomInfoDialog.maxAdults.text",i.adults),i.children&&n.formatText("hotels.infosite.roomInfoDialog.maxChildren.text",i.children))),o&&a.createElement("div",{className:"description"},a.createElement("h3",null,n.formatText("hotels.infosite.roomInfoDialog.roomDetails.linkText")),a.createElement("div",{dangerouslySetInnerHTML:this.renderMarkup(o)})))},t=z([c.withLocalization],t)}(a.Component),V=n("l92f"),W=n("th27"),G=function(e){var t=e.roomScoreCriteriaAndCount,n=e.isTextLocalized;if(!t)return null;var r=n?t:a.createElement(c.LocalizedText,{message:t});return a.createElement("li",{className:"all-t-padding-one","data-stid":"room-score-rating-text"},r)},q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.render=function(){var e=this.props.guestLikeItForTags;return e&&0!==e.length?e.map(function(e){return a.createElement(G,{key:e.label,roomScoreCriteriaAndCount:e.label,isTextLocalized:!0})}):null},t}(a.Component),Q=function(e){var t=e.maxOccupancy,n=t&&(t.people||t.adults||t.children||t.description);if(!t||!n)return null;var r=t.people,o=t.adults,i=t.children,s=t.description;return s?a.createElement(l.AbacusExperiment,{name:"PWA_PDP_Lshop_BTO_Modal_Sleeps"},a.createElement(l.AbacusControl,null,a.createElement(Y,{people:r,adults:o,children:i})),a.createElement(l.AbacusVariant,{bucket:1},a.createElement(b.UitkCardTextSegment,{"data-stid":"room-info-max-occupancy"},a.createElement("h3",{className:"uitk-type-heading-400 all-b-margin-three","data-stid":"room-info-max-occupancy-title"},a.createElement(c.LocalizedText,{message:"hotels.infosite.roomInfoDialog.sleeps.title"})),a.createElement("div",{"data-stid":"room-info-max-occupancy-description",className:"pwa-theme--grey-700"},s)))):a.createElement(Y,{people:r,adults:o,children:i})},Y=function(e){var t=e.people,n=e.adults,r=e.children;return a.createElement(b.UitkCardTextSegment,{"data-stid":"room-info-max-occupancy",separator:b.UitkCardTextSegment.Separator.BOTTOM},a.createElement("h3",{className:"uitk-type-heading-400 all-b-margin-three","data-stid":"room-info-max-occupancy-title"},a.createElement(c.LocalizedText,{message:"hotels.infosite.roomInfoDialog.sleeps.title"})),a.createElement("ul",{className:"no-bullet","data-stid":"room-info-max-occupancy-list"},a.createElement(J,{count:t,l10nKey:"hotels.infosite.roomInfoDialog.maxPeople.text"}),a.createElement(J,{count:n,l10nKey:"hotels.infosite.roomInfoDialog.maxAdults.text"}),a.createElement(J,{count:r,l10nKey:"hotels.infosite.roomInfoDialog.maxChildren.text"})))},J=function(e){var t=e.count,n=e.l10nKey;return t?a.createElement("li",{className:"all-t-padding-one"},a.createElement(c.LocalizedText,{message:n,data:[t]})):null},X=n("srHD"),Z=n("17ZU"),$=n("5Ooz"),ee=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),te=function(){return(te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ne=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},re=function(e){function t(t){var n=e.call(this,t)||this;return n.state={currentGalleryIndex:0},n.updateIndex=n.updateIndex.bind(n),n}return ee(t,e),t.prototype.updateIndex=function(e){e>=0&&this.setState({currentGalleryIndex:e})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.photos,r=e.position,o=e.triggerId,i=e.trackingRfrr,l=e.name,c=e.isDateless,u=e.avoidLazy,p={triggerId:o,trackingRfrr:i,images:n,displayImageCount:!0,id:"roomGallery"+r,onIndexChange:this.updateIndex,currentIndex:this.state.currentGalleryIndex,galleryTitle:l};return n&&n.length>=0!=!1?a.createElement("section",{className:t+" uitk-cell room__gallery"},a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(a.Fragment,null,a.createElement(oe,{photos:n,avoidLazy:u}),a.createElement(ae,te({},p)))),a.createElement(s.ViewMedium,null,a.createElement(oe,{photos:n,isDateless:c,avoidLazy:u},a.createElement(ae,te({additionalClasses:"room__info-trigger"},p)))))):null},t.defaultProps={isDateless:!1,trackingRfrr:".Room.PhotoGallery",triggerId:"infosite-gallery"},t=ne([Object(o.inject)("routeStore","analytics")],t)}(a.Component),ae=function(e){return a.createElement(X.a,te({},e,{className:e.additionalClasses+" uitk-grid room__gallery-trigger"}))},oe=function(e){var t=Object(f.classNames)("uitk-cell uitk-card-media room__media image-loader image-loader__no-scrim",{"all-image-fit-cover":e.isDateless});return e.avoidLazy?a.createElement(ie,{src:e.photos[0].src,queuedImageClasses:t,children:e.children}):a.createElement(Z.Lazy,{key:"lazy-"+e.photos[0].src,loadOffset:{top:350,bottom:350}},a.createElement(Z.Lazy.Placeholder,{key:"lazy-placeholder-"+e.photos[0].src},a.createElement($.a,{src:"",useBackgroundImage:!0,className:t,lazyLoad:!0})),a.createElement(Z.Lazy.Loaded,{key:"lazy-loaded-"+e.photos[0].src},a.createElement(ie,{src:e.photos[0].src,queuedImageClasses:t,children:e.children})))},ie=function(e){return a.createElement($.a,{useBackgroundImage:!0,src:e.src,className:e.queuedImageClasses,lazyLoad:!0},e.children)},le=n("X0nJ"),se=function(){return(se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ce=function(e){var t=e.amenitiesSpacing,n=e.amenities,r=e.icon,o=e.idPrefix,i=e.triggerDialogId,l=e.useMiniDialog;if(!n||n.length<1)return null;var s={small:!0,spacing:t,unique:o,amenities:n=r?n.map(function(e){return Object(x.c)(e,r)}):n.map(function(e){return Object(x.a)(e)}),triggerDialogId:i,useMiniDialog:l};return a.createElement("div",{className:"pwa-theme--grey-700 all-b-padding-one","data-stid":"content-rateplan-amenities"},a.createElement("h5",{className:"is-visually-hidden"},a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.amenities.title"})),a.createElement(le.a,se({},s)))};ce.displayName="RatePlanAmenities";var ue=n("dmEO"),pe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},de=Object(O.ClickTracker)(i.Link),fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pe(t,e),t.prototype.render=function(){var e=this.props,t=e.cancelClass,n=e.dateTimeClasses,r=e.dialogPrefix,o=e.freeCancel,i=e.freeCancelClasses,l=e.freeCancelOneLine,s=e.localizedCancellationDateTime,u=e.nonRefundable,p=e.localizedCancellationInfoText,m=e.l10n,d=e.ratePlanInfo,f=e.noCreditCardRequired,y=e.routeStore,h=e.ratePlanCode,g=e.triggerDialogId,v=m.formatText,E=d&&d.splitRateTitle;if(!o&&!u&&!E)return null;var k="infosite-room-info-dialog-ratePlans"===g?{pwaDialogNested:r+"policytext-"+h}:{pwaDialog:r+"policytext-"+h},b=y.mergeQueryString(y.search,k);return a.createElement("div",{className:"all-b-padding-one"},a.createElement("h5",{className:"is-visually-hidden"},a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.cancellationPolicy.title"})),a.createElement("div",{className:"rate-plan__cancellation-summary "+t,"data-stid":"content-rateplan-cancellationsummary"},a.createElement("div",{className:"uitk-grid"},(u&&!f||E)&&a.createElement(a.Fragment,null,u&&a.createElement("div",{"data-stid":"rate-plan-label-no-refund",className:"pwa-theme--grey-900 uitk-type-regular"},a.createElement(ue.UitkMoreInfoTrigger,null,a.createElement(de,{linkName:"Open Rate Plan Policy Text Info Dialog",rfrr:".rateplanpolicytext",to:{pathname:y.pathname,search:b}},p,a.createElement(P.UitkIcon,{name:"info_outline",size:P.UitkIconSize.SMALL,title:v("hotels.infosite.ratePlan.policyInfoIcon.title"),id:"policy-information-icon-"+h})))),a.createElement(ye,{nonRefundable:u,title:E}))),a.createElement(he,{freeCancel:o,freeCancelClasses:i,freeCancelOneLine:l,localizedCancellationInfoText:p,localizedCancellationDateTime:s,nonRefundable:u,splitRateTitle:E,dateTimeClasses:n})))},t.defaultProps={dialogPrefix:"",iconRight:!1,freeCancelClasses:"pwa-theme--success"},t=me([c.withLocalization],t)}(a.Component);function ye(e){var t=e.nonRefundable,n=e.title;if(!n)return null;var r=t?" all-t-padding-one":"";return a.createElement("div",{className:"uitk-cell"+r,"data-stid":"rate-plan-label-mrp"},n)}function he(e){var t=e.dateTimeClasses,n=e.freeCancel,r=e.freeCancelClasses,o=e.freeCancelOneLine,i=e.localizedCancellationInfoText,l=e.localizedCancellationDateTime,s=e.nonRefundable,u=e.splitRateTitle;if(!n)return null;var p=s||u?" all-t-padding-one":"",m=n&&l,d=t||"uitk-type-200 pwa-theme--grey-600";return o&&m?a.createElement("span",{className:r+" "+p,"data-stid":"rate-plan-label-free-cancel-before"},a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.freeCancelWithDate.text",data:[l]})):a.createElement(a.Fragment,null,a.createElement("span",{className:r+" "+p,"data-stid":"rate-plan-label-free-cancel"},i),m&&a.createElement("div",{className:d,"data-stid":"rate-plan-label-cancel-before"},a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.freeCancelBefore.text",data:[l]})))}var ge=n("kDvs"),ve=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ke=function(e){function t(t){var n=e.call(this,t)||this;return n.onLearnMoreClick=n.onLearnMoreClick.bind(n),n}return ve(t,e),t.prototype.onLearnMoreClick=function(){var e=this.props,t=e.routeStore,n=e.learnMoreQuery,r=t.mergeQueryString(t.search,{pwaDialogNested:n});t.updateSearch(r)},t.prototype.render=function(){var e=this.props.l10n.formatText("hotels.infosite.afrDialog.bodyText",this.props.ratePlan.artificiallyFencedRate.chainName,this.props.ratePlan.artificiallyFencedRate.programName);return a.createElement("p",null,e,a.createElement(_.UitkLinkButton,{onClick:this.onLearnMoreClick},a.createElement(c.LocalizedText,{message:"hotels.infosite.afrDialog.learnMore"})))},t=Ee([c.withLocalization,Object(o.inject)("routeStore")],t)}(a.Component),be=n("gXyH"),Pe=Object(O.ClickTracker)(_.UitkPrimaryButton),Oe=function(e){var t=e.linkName,n=e.onClickCallback,r=e.rfrr,o=e.smokeTestId;return a.createElement(Pe,{trackImmediate:!0,type:"submit","data-stid":o,linkName:t,rfrr:r,text:a.createElement(c.LocalizedText,{message:"cart.button.addToCart.button.label"}),onClick:function(e){e.preventDefault(),n&&n(e)}})};Oe.displayName="AddToCartButton";var _e=function(){return(_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Re=Object(O.ClickTracker)(_.UitkPrimaryButton),Ce=function(e){var t,n=e.dataAttributes,r=void 0===n?{}:n,o=e.description,i=e.disabled,s=void 0!==i&&i,u=e.fullWidth,p=e.label,m=e.onUserClick,d=e.option,f=e.rfrr,y=e.roomPosition,h=e.ratePlanCode,g=_e({},r,((t={})["data-stid"]="submit-hotel-reserve",t.type="submit",t.disabled=s,t.linkName="Book selected room choice",t.className="uitk-button-new-primary",t.trackImmediate=!0,t.isFullWidth=u,t));return a.createElement(l.AbacusExperiment,{name:"Holding_Area_V1"},a.createElement(l.AbacusControl,null,a.createElement(Re,_e({},g,{rfrr:f||"RoomsAndRates.BookButton.Room"+y+".Rate"+d+"."+h,text:a.createElement(De,{label:p||a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.bookButton.label"}),description:o||a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.bookButton.label"})}),onClick:m}))),a.createElement(l.AbacusVariant,{bucket:1},a.createElement(Oe,{smokeTestId:"submit-hotel-reserve",linkName:"Book selected room choice'",rfrr:"RoomsAndRates.AddToCartButton.Room"+y+".Rate"+d+"."+h})))};Ce.displayName="ReserveButton";var De=function(e){var t=e.label,n=e.description;return a.createElement(a.Fragment,null,t,n&&a.createElement("span",{className:"is-visually-hidden"},n))},we=n("n+Gs"),xe=n("R5V4"),Ne=n("OtDA"),Se=n("GyZ8"),Te=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ae=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},je=function(e){function t(t){var n=e.call(this,t)||this,r=n.props.paymentPlan.action;return n.state={buttonDisabled:!1},n.notMRP=r&&"MRP"!==r,n.formRef=a.createRef(),n.onSubmit=n.onSubmit.bind(n),n.beforeSubmit=n.beforeSubmit.bind(n),n.handleMultiItemFailure=n.handleMultiItemFailure.bind(n),n.logger=we.ClientLogger.getLoggerWithIdentifier("pwa.component.reserveForm"),n.pinnedRatePlanAnalytics=n.pinnedRatePlanAnalytics.bind(n),n}return Te(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.onSubmit=function(e){var t=e&&e.target;t&&(e.preventDefault(),this.props.uiPage.showProgressIndicator(0),this.setState({buttonDisabled:!0}),requestAnimationFrame(function(){requestAnimationFrame(function(){t.submit()})}))},t.prototype.pinnedRatePlanAnalytics=function(){var e=this.props,t=e.analytics,n=e.isPinnedRatePlan;t&&"function"==typeof t.trackEvent&&n&&t.trackEvent(".RoomsAndRates.PinnedBookButton","User has clicked on reserve button from pinned rate plan",null,null)},t.prototype.beforeSubmit=function(e){var t=this,n=this.props,r=n.multiItem,a=n.context,o=n.room,i=n.currentHotel,l=n.ratePlanCode,s=n.paymentPlan,c=n.analytics,u=n.routeStore,p=s&&s.inventoryType,m=s&&s.hotelCollect?Ne.a.HC:Ne.a.EC,d=s&&s.airAttachmentEnabled,f=r.showMixMatchExperience&&!r.showMultiPropExperience?r.itemCount:0,y=u&&u.queryParams&&u.queryParams.roomIndex,h=y&&r&&!r.showMultiPropExperience&&r.showMixMatchExperience&&r.items&&r.items[y];e&&"function"==typeof e.preventDefault&&e.preventDefault(),c&&"function"==typeof c.trackEvent&&c.trackEvent("MultiProp.Reserve","Clicking on Reserve into multi property experiment",c.omnitureData);var g=function(e){return r.addPropertyToCart(a,Object(Se.b)(s.checkInDate,s.checkOutDate,i.searchCriteria.rooms,p,o.roomTypeCode,l,i.hotelId.toString(),d,e,r.showMixMatchExperience),Object(Se.a)(i.searchCriteria,i.hotel&&i.hotel.region&&i.hotel.region.id&&i.hotel.region.id.toString()),m,c,s&&s.noCreditCardRequired).catch(t.handleMultiItemFailure)};if(r&&r.showMixMatchExperience&&r.items&&r.items[0]&&r.items[0].propertyId&&r.items[0].propertyId!==i.hotelId)return r.emptyCart(a).then(function(){c&&c.trackEvent("MultiItem.ReplaceProperty","MultiItem Property Replaced",c.omnitureData,null,!0),g(0)});if(h){var v=r.items[y].id;return r.removeItemFromCart(a,v).then(function(e){c&&c.trackEvent("MultiProp.RemoveProperty","MultiProp Property Removed",c.omnitureData,null,!0),g(y)})}return g(f)},t.prototype.handleMultiItemFailure=function(e){var t=this.props,n=t.multiItem,r=t.routeStore,a=t.currentHotel,o=t.context;n&&0===n.itemCount?(this.formRef&&this.formRef.current&&"function"==typeof this.formRef.current.submit&&this.formRef.current.submit(),"function"==typeof this.logger.logEvent&&this.logger.logEvent(new xe.SystemEvent(xe.SystemEventLevel.WARN,"FALLBACK_TO_STANDALONE_BOOKING"))):e===Ne.b&&(a.fetch(null,o,null).then(function(){r&&r.queryParams&&r.queryParams.pwaDialogNested&&r.goBack()}),"function"==typeof this.logger.logEvent&&this.logger.logEvent(new xe.SystemEvent(xe.SystemEventLevel.WARN,"INCOMPATIBLE_RATEPLAN")))},t.prototype.render=function(){var e=this.props,t=e.context,n=e.dataAttributes,r=e.formAction,o=e.formMethod,i=e.fullWidth,s=e.label,c=e.option,u=e.paymentPlan,p=e.ratePlanCode,m=e.rfrr,d=e.room,f=e.currentHotel,y=e.multiItem,h=this.state.buttonDisabled,g=this.notMRP?m:"MRP"+m,v=f&&f.searchCriteria&&f.searchCriteria.rooms&&f.searchCriteria.rooms.length>1;return d&&u?a.createElement("form",{action:r,className:["reserve-form","uitk-type-right","all-y-padding-one","l-y-padding-zero"].join(" "),method:o,onSubmit:this.onSubmit,ref:this.formRef},a.createElement("input",{type:"hidden",name:"piid",value:u.piid}),a.createElement("input",{type:"hidden",name:"action",value:u.action}),a.createElement("input",{type:"hidden",name:"hotelID",value:d.hotelId}),a.createElement("input",{type:"hidden",name:"roomTypeCode",value:d.roomTypeCode}),a.createElement("input",{type:"hidden",name:"ratePlanCode",value:p}),a.createElement("input",{type:"hidden",name:"inventoryType",value:u.inventoryType}),a.createElement("input",{type:"hidden",name:"dateFormat",value:u.dateFormat}),a.createElement("input",{type:"hidden",name:"checkInDate",value:u.checkInDate}),a.createElement("input",{type:"hidden",name:"checkOutDate",value:u.checkOutDate}),a.createElement("input",{type:"hidden",name:"isPayLater",value:String(u.payLater)}),a.createElement("input",{type:"hidden",name:"isNoCCRequired",value:String(u.noCreditCardRequired)}),a.createElement("input",{type:"hidden",name:"isPaymentChoiceAvailable",value:String(u.paymentChoiceAvailable)}),a.createElement("input",{type:"hidden",name:"isAirAttachmentEnabled",value:String(u.airAttachmentEnabled)}),a.createElement("input",{type:"hidden",name:"isArtificiallyFencedRate",value:String(u.artificiallyFencedRate)}),a.createElement("input",{type:"hidden",name:"roomOccupancy",value:u.roomOccupancy}),a.createElement("input",{type:"hidden",name:"prices",value:u.prices}),a.createElement(l.AbacusExperiment,{name:"TotalPriceWithTaxesAndFeesPWA_CKO"},a.createElement(l.AbacusControl,null),a.createElement(l.AbacusVariant,{bucket:1},a.createElement("input",{type:"hidden",name:"totalPriceWithTaxesAndFees",value:u.totalPriceWithTaxesAndFees}))),!this.notMRP&&a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"mixedRatePlanGUID",value:t.deviceId}),a.createElement("input",{type:"hidden",name:"mixedRatePlanitem",value:u.mixedRatePlanitem})),a.createElement("input",{type:"hidden",name:"currencyCode",value:u.currencyCode}),a.createElement("input",{type:"hidden",name:"guestCountBasedBooking",value:String(u.guestCountBasedBooking)}),a.createElement("input",{type:"hidden",name:"valueAddText",value:"PWA"}),a.createElement("input",{type:"hidden",name:"swpApplied",value:f&&f.searchCriteria&&f.searchCriteria.swpToggleOn}),u.fencedAttributes&&a.createElement("input",{type:"hidden",name:"fencingAttributes",value:u.fencedAttributes}),a.createElement(Ce,{description:d.name,disabled:h,label:s,fullWidth:i,option:c,rfrr:g,dataAttributes:n,onUserClick:y&&(y.showMultiPropExperience||y.showMixMatchExperience&&v)?this.beforeSubmit:this.pinnedRatePlanAnalytics})):null},t.defaultProps={dataAttributes:{},formAction:"/Details",formMethod:"POST"},t=Ae([Object(o.inject)("analytics","context","uiPage","currentHotel","multiItem","routeStore"),o.observer],t)}(a.Component),Ie=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Me=function(){return(Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Le=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Be=function(e){function t(t){var n=e.call(this,t)||this;return n.onReserveRoom=n.onReserveRoom.bind(n),n.reserveCallback=n.reserveCallback.bind(n),n.state={jsEnabled:!1},n}return Ie(t,e),t.prototype.componentDidMount=function(){this.setState({jsEnabled:!0})},t.prototype.roomHasNoCreditCardOption=function(){var e=this.props.room,t=!1;return e.ratePlans.forEach(function(e){e.paymentPlans.forEach(function(e){e.noCreditCardRequired&&(t=e.noCreditCardRequired)})}),t},t.prototype.isNoCCBookingsPwaExperimentIsOn=function(){var e=this.props.experiment;return!!(e&&e.exposures&&e.exposures.no_cc_bookings_pwa&&1===e.exposures.no_cc_bookings_pwa.bucket)},t.prototype.getPaymentPlan=function(){var e=this.props.ratePlan.paymentPlans;return{paymentPlan:e&&e[0]}},t.prototype.getJSState=function(){return this.state.jsEnabled},t.prototype.render=function(){var e=this.props,t=e.dialogActive,n=e.hasMultiplePaymentTypes,r=e.option,o=e.ratePlan,i=e.room,l=e.trackingRfrr,s=e.fullWidth,c=e.className,u=e.isPinnedRatePlan,p=e.roomPosition,m="uitk-grid all-grid-align-end"+(s?" uitk-button-fullWidth":"")+(c?" "+c:""),d=o.dataAttributes,f=this.props.label||o.bookingLabel,y=d?d.reserveButton:{},h=this.isNoCCBookingsPwaExperimentIsOn(),g=this.getJSState(),v={option:r,fullWidth:s,label:f,dataAttributes:y},E=this.getPaymentPlan().paymentPlan,k=o&&o.ratePlanCode,b=l+".RoomsAndRates.BookButton.Room"+p+".Rate"+r+"."+k;if(f&&(!n||!t||!g)){var P=h&&this.roomHasNoCreditCardOption()?l+".RoomsAndRates.NoCreditCardRequired":b;return a.createElement("div",{className:m},a.createElement(je,Me({paymentPlan:E,ratePlanCode:k,room:i,formAction:i.udpUrl,rfrr:P,isPinnedRatePlan:u},v)))}if(f&&n&&t&&g){var O=["all-y-padding-one"];return s&&O.push("uitk-button-fullWidth"),a.createElement("div",{className:m},a.createElement("div",{className:O.join(" "),"data-stid":"reserve-button"},a.createElement(Ce,Me({description:i.name,onUserClick:this.reserveCallback,rfrr:b},v,{roomPosition:p,ratePlanCode:k}))))}return null},t.prototype.reserveCallback=function(){var e=this.props,t=e.hasMultiplePaymentTypes,n=e.ratePlan.paymentPlans,r=t&&n.some(function(e){return e.paymentType===be.m.PAY_LATER_WITH_DEPOSIT}),a=t&&n.some(function(e){return e.paymentType===be.m.PAY_LATER}),o=t&&n.some(function(e){return!0===e.noCreditCardRequired});this.onReserveRoom(a,r,o)},t.prototype.onReserveRoom=function(e,t,n){var r=this.props,a=r.analytics,o=r.ratePlan,i=r.routeStore,l=r.trackingRfrr,s=r.etpModalId,c=r.isPinnedRatePlan;if((e||t)&&a&&"function"==typeof a.clickTracker){var u=e?be.m.PAY_LATER:be.m.PAY_LATER_WITH_DEPOSIT,p={};p[l+".RoomsAndRates.OpenEtpDialog"]={condition:null,message:"User opening payment options dialog"},p[l+".RoomsAndRates.EtpDialogOption."+u]={condition:null,message:"User opened etp modal with "+u+" option"},p[l+".RoomsAndRates.EtpDialogOption.noCCRequired"]={condition:n,message:"User opened etp modal with noCCRequired option"},p[l+".RoomsAndRates.PinnedBookButton"]={condition:c,message:"User has clicked on reserve button from pinned rate plan"},function(e,t){if(e&&t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];for(var a in r)r.hasOwnProperty(a)&&("condition"!==a||null!==r[a]&&!r[a]||e.trackEvent(n,r.message,null,null))}}(a,p)}var m="payment-"+o.ratePlanCode+"-"+s;i.updateSearch({pwaDialogNested:m})},t=Le([Object(o.inject)("context","routeStore","currentHotel","analytics","experiment")],t)}(a.Component),Ue=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fe=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ze=function(e){function t(t){var n=e.call(this,t)||this;return n.routeStoreGoBack=n.routeStoreGoBack.bind(n),n}return Ue(t,e),t.prototype.routeStoreGoBack=function(){this.props.routeStore.goBack()},t.prototype.render=function(){var e=this.props,t=e.hasMultiplePaymentTypes,n=e.option,r=e.room,o=e.ratePlan,i=e.trackingRfrr,l=e.l10n,s=e.etpModalId,u=e.isPinnedRatePlan,p=l.formatText("hotels.infosite.ratePlan.afrInterruptModal.continue");return a.createElement("div",{className:"uitk-cell uitk-grid tools__actions"},a.createElement("div",{className:"uitk-cell all-cell-1-2 all-r-padding-one"},a.createElement(a.Fragment,null,a.createElement(_.UitkTertiaryButton,{disabled:!1,onClick:this.routeStoreGoBack,className:"uitk-button uitk-button-small uitk-button-fullWidth uitk-button-secondary all-y-padding-one l-y-padding-zero"},a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.afrInterruptModal.cancel"})))),a.createElement("div",{className:"uitk-cell all-cell-1-2 all-l-padding-one"},a.createElement(Be,{label:p,room:r,option:n,ratePlan:o,dialogActive:!0,hasMultiplePaymentTypes:t,trackingRfrr:i,fullWidth:!0,etpModalId:s,isPinnedRatePlan:u})))},t=Fe([c.withLocalization,Object(o.inject)("routeStore")],t)}(a.Component),He=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},We=function(e){function t(t){var n=e.call(this,t)||this;return n.routeStoreGoBack=n.routeStoreGoBack.bind(n),n}return He(t,e),t.prototype.routeStoreGoBack=function(){this.props.routeStore.goBack()},t.prototype.render=function(){var e=this.props,t=e.etpModalId,n=e.hasMultiplePaymentTypes,r=e.id,o=e.isPinnedRatePlan,i=e.learnMoreQuery,l=e.option,c=e.ratePlan,u=e.room,p=e.routeStore,m=e.trackingRfrr;if(!c||!c.artificiallyFencedRate)return null;var d={pwaDialog:"afrDialog-"+c.ratePlanCode};return a.createElement(I.QueryRoute,{query:d},a.createElement(s.Layer,{id:r+"-afrDialog",onDismiss:this.routeStoreGoBack},a.createElement(ge.a,{actionComponents:a.createElement(ze,{learnMoreQuery:i,hasMultiplePaymentTypes:n,id:r,option:l,ratePlan:c,room:u,routeStore:p,trackingRfrr:m,etpModalId:t,isPinnedRatePlan:o})},a.createElement(ke,{learnMoreQuery:i,routeStore:p,ratePlan:c}))))},t=Ve([c.withLocalization,Object(o.inject)("routeStore")],t)}(a.Component),Ge=function(e,t){return e&&e.payLater?e.deposit?".RoomsAndRates.PayDeposit":".RoomsAndRates.PayLater":function(e){return!!(e&&e.exposures&&e.exposures.no_cc_bookings_pwa&&1===e.exposures.no_cc_bookings_pwa.bucket)}(t)&&e&&e.noCreditCardRequired?".RoomsAndRates.NoCreditCardRequired":".RoomsAndRates.PayNow"},qe=function(){return(qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ke=function(e){var t=e.dataAttributes,n=e.paymentPlan,r=e.ratePlanCode,o=e.rfrr,i=e.room,l=e.l10n,s={dataAttributes:t,formAction:i.udpUrl,paymentPlan:n,ratePlanCode:r,rfrr:o,room:i};return a.createElement(je,qe({},s,{label:Qe(s.paymentPlan,l)}))},Qe=function(e,t){var n=t.formatText,r=e&&e.payLater;return r&&e.noCreditCardRequired?n("hotels.infosite.paymentOptions.payLater.title"):r?e.deposit?n("hotels.infosite.paymentOptions.payDepositButton.label"):n("hotels.infosite.paymentOptions.payAtHotelButton.label"):n("hotels.infosite.paymentOptions.payNow.title")},Ye=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Je=function(e){function t(t){return e.call(this,t)||this}return Ye(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.dataStid,r=e.text;return r?a.createElement("div",{className:"pwa-theme--grey-700 "+t,"data-stid":n},r):null},t}(a.Component),Xe=function(e){var t=e.className,n=e.fees,r=e.supportingMessages,o=n&&n.excludedResortDailyText,i=n&&n.excludedPropertyFeeText,l=n&&n.refundableDamageDepositText,s=Boolean(o||i||l),c=r&&Array.isArray(r)&&r.length>0;return!s||c?null:a.createElement("div",{className:"all-b-padding-one"},a.createElement(Je,{className:t,dataStid:"content-rateplan-resortfee",text:o}),a.createElement(Je,{className:t,dataStid:"content-rateplan-propertyfee",text:i}),l&&a.createElement(Je,{className:t,dataStid:"content-rateplan-refundableDamageDeposit",text:l}))};Xe.displayName="RatePlanExtraFeesText";var Ze=function(){return(Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$e=Object(f.classNames)("uitk-type-100","pwa-theme--grey-700"),et=function(e){return a.createElement(a.Fragment,null,e&&e.pointsApplied&&a.createElement("div",{className:$e,"data-stid":"payment-points-applied"},e.pointsApplied))},tt=function(e){return a.createElement(a.Fragment,null,e&&a.createElement(l.AbacusExperiment,{name:"Dual_Price_TaxFeeIncluded_All_Searches"},a.createElement(l.AbacusControl,null,a.createElement(a.Fragment,null,e.totalPriceMessage&&a.createElement("div",{className:$e+" all-t-padding-one uitk-type-bold"},e.totalPriceMessage),!e.payLater&&a.createElement("div",{className:$e+" all-t-padding-one payment-options__fees-messaging"},e.includesTaxesAndFeesMessage),e.excludesTaxesAndFeesMessage&&a.createElement("div",{className:$e+" all-t-padding-one payment-options__fees-messaging"},e.excludesTaxesAndFeesMessage))),a.createElement(l.AbacusVariant,{bucket:1},e.totalPriceMessage&&a.createElement("div",{className:$e+" all-t-padding-one"},e.totalPriceMessage)),a.createElement(l.AbacusVariant,{bucket:2},a.createElement(nt,{paymentPlan:e})),a.createElement(l.AbacusVariant,{bucket:4},a.createElement(nt,{paymentPlan:e}))),e&&a.createElement(Xe,{className:$e,fees:e.fees}))},nt=function(e){var t=e.paymentPlan;return a.createElement(a.Fragment,null,t.totalPriceMessage&&a.createElement("div",{className:$e+" all-t-padding-one uitk-type-bold"},t.totalPriceMessage),t.includesTaxesAndFeesMessage&&a.createElement("div",{className:$e+" all-t-padding-one payment-options__fees-messaging"},t.includesTaxesAndFeesMessage))},rt=Object(c.withLocalization)(Object(o.inject)("experiment")(function(e){var t=e.paymentPlan,n=e.room,r=e.l10n,o=e.reserveDataAttributes,i=e.ratePlanCode,l=e.experiment;return a.createElement("div",{className:"uitk-cell uitk-type-right"},a.createElement("span",{className:"uitk-type-heading-600"},t.displayPrice),t&&t.numberOfNightsAndRoomsMessage&&a.createElement("div",{className:$e+" payment-options__subheading"},t.numberOfNightsAndRoomsMessage),a.createElement(tt,Ze({},t)),a.createElement(et,Ze({},t)),a.createElement("div",{className:"uitk-grid"},a.createElement("div",{className:"uitk-cell all-y-gutter-three"},a.createElement("div",{className:"payment-options__button"},a.createElement(Ke,{dataAttributes:o,paymentPlan:t,ratePlanCode:i,rfrr:Ge(t,l),room:n,l10n:r})))))})),at=function(e){var t=e.paymentPlan,n=e.totalPos,r=t.payLater,o=t.noCreditCardRequired,i=t.deposit;return t&&r?o?a.createElement(c.LocalizedText,{message:"hotels.infosite.paymentOptions.etpDialog.noCreditCardRequired.title"}):i?a.createElement(c.LocalizedText,{message:"hotels.infosite.paymentOptions.depositReserve.title"}):a.createElement(c.LocalizedText,{message:"hotels.infosite.paymentOptions.payLater.title"}):n?a.createElement(c.LocalizedText,{message:"hotels.infosite.paymentOptions.payTotalNow.title"}):a.createElement(c.LocalizedText,{message:"hotels.infosite.paymentOptions.payNow.title"})};at.displayName="PaymentTypeHeadingMessage";var ot=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ot(t,e),t.prototype.render=function(){var e=this.props,t=e.paymentPlan,n=e.etpPolicies;if(n&&t&&t.paymentType){var r=n[t.paymentType],o=r&&r.length>0&&r[0],i=o&&o.lines;if(i&&i.length>0)return i.map(function(e,t){var n="policy_"+t;return a.createElement("li",{key:n},e)})}return null},t=it([Object(o.inject)("experiment")],t)}(a.Component),st=function(e){var t=e.paymentPlan;return t.paymentType===be.m.PAY_NOW&&t.loyaltyEarnAwardsMessage?a.createElement("li",{className:"pwa-theme--loyalty"},t.loyaltyEarnAwardsMessage):null};st.displayName="EtpSupplierPromoEarn";var ct=function(e){var t=e.paymentPlan,n=e.etpPolicies,r=e.sectionTitle,o=n&&t&&n[t.paymentType]&&n[t.paymentType][0]&&n[t.paymentType][0].lines&&n[t.paymentType][0].lines.length>0;return a.createElement(a.Fragment,null,o&&a.createElement("div",{className:"all-t-padding-three"},a.createElement("h3",{className:"uitk-type-heading-300"},r||"TAAP information"),a.createElement("ul",{className:"uitk-type-list-300","data-stid":"payment-options-details"},a.createElement(lt,{paymentPlan:t,etpPolicies:n}))))};ct.displayName="PaymentTypeMarketingSection";var ut=function(){return(ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},pt=function(e){var t=e.paymentPlan,n=e.etpPolicies,r=e.totalPos,o=e.marketingEtpSection,i=ut({paymentPlan:t},o);return a.createElement("div",{className:"uitk-cell"},a.createElement("h3",{className:"uitk-type-heading-300"},a.createElement(at,{paymentPlan:t,totalPos:r})),a.createElement("ul",{className:"uitk-type-list-300","data-stid":"payment-options-details"},t&&t.etpModalPolicies&&t.etpModalPolicies.map(function(e,t){return a.createElement("li",{key:"modal_policy_"+t},e)}),a.createElement(lt,{paymentPlan:t,etpPolicies:n}),a.createElement(st,{paymentPlan:t})),a.createElement(ct,ut({},i)))};pt.displayName="PaymentTypeHeading";var mt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mt(t,e),t.prototype.render=function(){var e,t=this.props,n=t.paymentPlan,r=t.room,o=t.etpPolicies,i=t.reserveDataAttributes,l=t.ratePlanCode,s=t.isDivider,c=t.currentHotel,u=t.marketingEtpSection,p=c.offers.totalPos,m=Object(f.classNames)("uitk-cell all-y-padding-six",((e={})["uitk-card-separator-bottom"]=s,e));return a.createElement("div",{className:m,"data-stid":"payment-options-type"},a.createElement("div",{className:"uitk-grid all-cell-1-2"},a.createElement(pt,{paymentPlan:n,etpPolicies:o,totalPos:p,marketingEtpSection:u}),a.createElement(rt,{reserveDataAttributes:i,paymentPlan:n,ratePlanCode:l,room:r})))},t=dt([c.withLocalization,Object(o.inject)("experiment","currentHotel")],t)}(a.PureComponent),yt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ht=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yt(t,e),t.prototype.render=function(){var e=this.props,t=e.currentHotel,n=e.ratePlan,r=e.room,o=n.dataAttributes,i=n.paymentPlans,l=n.ratePlanCode,s=n.marketingEtpSection,c=o&&o.reserveButton||{};return a.createElement("div",{className:"uitk-grid","data-stid":"payment-options"},i&&i.map(function(e,n){return a.createElement(ft,{isDivider:i.length-1!==n,etpPolicies:t&&t.offers&&t.offers.etp,key:"payment-option-"+n,paymentPlan:e,ratePlanCode:l,reserveDataAttributes:c,room:r,marketingEtpSection:s})}))},t=ht([Object(o.inject)("currentHotel"),o.observer],t)}(a.Component),vt=function(e){var t=e.ratePlan,n=t.cancellationPolicy,r=n.freeCancel,o=n.localizedCancellationDateTime;return t&&n&&r&&o?a.createElement("section",{className:"all-x-padding-three","data-stid":"free-cancellation-section"},a.createElement("div",{className:"uitk-grid all-y-padding-six uitk-card-separator-bottom"},a.createElement("div",{className:"uitk-cell all-cell-1-1"},a.createElement("h3",{className:"uitk-type-heading-300 all-b-margin-one"},a.createElement(c.LocalizedText,{message:"hotels.infosite.paymentOptions.etpDialog.freeCancelation.heading"})),a.createElement("span",{className:"pwa-theme--success type-300","data-stid":"free-cancellation"},a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.freeCancelWithDate.text",data:[o]}))))):null};vt.displayName="EtpModalFreeCancellation";var Et=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(){return(kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},bt=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Pt=function(e){function t(t){var n=e.call(this,t)||this;return n.onDismiss=n.onDismiss.bind(n),n}return Et(t,e),t.prototype.onDismiss=function(){this.props.onDismiss&&this.props.onDismiss()},t.prototype.render=function(){var e=this.props,t=e.l10n,n=e.ratePlan,r=e.room,o=this.props.analytics.setupTracker("EtpDialog","close payment options dialog");return a.createElement(W.UitkFullscreenDialog,kt({},{dialogShow:!0,className:"amenities-dialog"}),a.createElement(V.UitkToolbar,{header:a.createElement(c.LocalizedText,{message:"hotels.infosite.paymentOptions.etpDialog.title"}),iconLabel:t.formatText("hotels.infosite.paymentOptions.cancelButton.a11yLabel"),action:this.onDismiss,analytics:o}),a.createElement(W.UitkDialogContent,{zeroPadding:!0},a.createElement(vt,{ratePlan:n}),a.createElement("section",{className:"all-x-padding-three","data-stid":"content-payment-options"},a.createElement(gt,{ratePlan:n,room:r}))))},t=bt([c.withLocalization],t)}(a.Component),Ot=n("/NTa"),_t=n("xcev"),Rt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Dt=function(e){function t(t){var n=e.call(this,t)||this;return n.routeStoreGoBack=n.routeStoreGoBack.bind(n),n.getDialogQuery=n.getDialogQuery.bind(n),n}return Rt(t,e),t.prototype.routeStoreGoBack=function(){this.props.routeStore.goBack()},t.prototype.getDialogQuery=function(){var e=this.props,t=e.ratePlan,n=e.etpModalId;if(t)return"payment-"+t.ratePlanCode+"-"+n},t.prototype.render=function(){var e=this.props,t=e.room,n=e.ratePlan,r=e.id,o=this.props.currentHotel&&this.props.currentHotel.loadingETPData;return t||n?o?a.createElement(Ot.UitkPageLoader,{className:"policies__loader",title:"Results are loading...",visible:o}):a.createElement(I.QueryRoute,{query:{pwaDialogNested:this.getDialogQuery()}},a.createElement(s.Layer,{id:r+"-paymentoptions",onDismiss:this.routeStoreGoBack},a.createElement(_t.AlterLocalizationProvider,null,a.createElement(Pt,{onDismiss:this.routeStoreGoBack,analytics:this.props.analytics,ratePlan:n,room:t})))):null},t=Ct([Object(o.inject)("currentHotel"),o.observer],t)}(a.Component),wt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xt=Object(O.ClickTracker)(_.UitkPrimaryButton),Nt=function(e){function t(t){var n=e.call(this,t)||this;return n.launchDialog=n.launchDialog.bind(n),n}return wt(t,e),t.prototype.launchDialog=function(){var e=this.props,t=e.ratePlan,n=e.routeStore,r={pwaDialog:"afrDialog-"+(t&&t.ratePlanCode)};n.updateSearch(r)},t.prototype.render=function(){var e=this.props,t=e.description,n=e.label,r=e.option,o=e.trackingRfrr,i=a.createElement("span",null,n||a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.bookButton.label"}),a.createElement("span",{className:"is-visually-hidden"}," ",t||a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.room.text"})));return a.createElement(xt,{"data-stid":"open-afr-dialog",linkName:"Open Afr Dialog",onClick:this.launchDialog,className:"uitk-button-new-primary",rfrr:o||"RoomsAndRates.OpenAfrDialog"+r,text:i})},t}(a.Component),St=n("yo39"),Tt=n("ToBc"),At=function(){return(At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},jt=function(e){var t=e.badge,n=e.tight,r=At({},t),o=r.theme,i=r.icon,l=r.text,s=n?"all-b-margin-one":"all-b-margin-two";return l||i?a.createElement("div",{className:"uitk-cell "+s},a.createElement(Tt.UitkBadge,{theme:Tt.UitkBadgeTheme[o],icon:i,text:l})):null};jt.displayName="RatePlanBadge";var It=function(e){var t=e.room,n=e.ratePlan,r=e.hasMultiplePaymentTypes,o=e.trackingRfrr,i=e.option,l=e.etpModalId,s=e.isPinnedRatePlan;if(!t||!n)return null;var c=n.ratePlanBadgeModel,u=c&&c.badge,p=f.classNames("uitk-cell","all-cell-fill","all-cell-1-2","all-l-padding-three","all-t-padding-two","all-b-padding-three"),m=f.classNames("uitk-cell","all-cell-1-1","all-b-margin-two","uitk-type-400","uitk-type-medium","truncate");return a.createElement(a.Fragment,null,a.createElement(St.UitkSheet,{className:"uitk-grid photo-gallery",isVisible:!0},a.createElement("div",{className:"uitk-cell all-cell-1-4"},t&&t.photos&&t.photos.length>0&&a.createElement(g.UitkFigure,{className:"all-image-fit-cover",src:t.photos[0].thumbnailSrc})),a.createElement("div",{className:p},a.createElement("h1",{className:"uitk-type-500 uitk-type-bold truncate"},t.name),a.createElement("div",{className:"uitk-grid"},a.createElement(jt,{badge:u}),a.createElement("div",{className:m},n.price.lead))),a.createElement("section",{className:"uitk-grid all-y-margin-two all-x-margin-two all-grid-align-center uitk-button-fullWidth"},a.createElement(Be,{room:t,option:i,ratePlan:n,dialogActive:!0,hasMultiplePaymentTypes:r,trackingRfrr:o,fullWidth:!0,className:"all-l-padding-two all-r-padding-two all-b-padding-two all-t-padding-two",etpModalId:l,isPinnedRatePlan:s}))))},Mt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lt=function(){return(Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mt(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.artificiallyFencedRate,r=e.room,o=e.ratePlan,i=e.option,l=e.hasMultiplePaymentTypes,s=e.trackingRfrr,c=e.etpModalId,u=e.isPinnedRatePlan;if(!n)return null;var p=n.benefitsCopyDescription,m=n.benefitsCopyDetails,d={header:t,type:V.ToolbarType.CLOSE},f=this.props.analytics.setupTracker(":CloseAfrDescription","Close AFR Description modal");return a.createElement(W.UitkFullscreenDialog,{dialogShow:!0},a.createElement(V.UitkToolbar,Lt({},d,{analytics:f,action:this.props.onDismiss})),a.createElement(W.UitkDialogContent,{zeroPadding:!0},n.imgHero&&a.createElement(g.UitkFigure,{ratio:g.UitkFigureAspectRatioType.R16_9},a.createElement(g.UitkImage,{src:n.imgHero})),a.createElement("section",{className:"all-x-padding-four all-y-padding-four"},p&&a.createElement("p",{className:"uitk-type-paragraph-300"},p),m&&a.createElement("ul",{className:"uitk-type-list-200"},m.map(function(e,t){return a.createElement("li",{key:t+"-"+o.ratePlanCode+"-program-description"},e)})))),a.createElement(It,{ratePlan:o,room:r,hasMultiplePaymentTypes:l,option:i,trackingRfrr:s,etpModalId:c,isPinnedRatePlan:u}))},t}(a.PureComponent),Ut=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},zt=function(e){function t(t){var n=e.call(this,t)||this;return n.onDescriptionDismiss=n.onDescriptionDismiss.bind(n),n}return Ut(t,e),t.prototype.onDescriptionDismiss=function(){this.props.routeStore.goBack()},t.prototype.render=function(){var e=this.props,t=e.l10n,n=e.artificiallyFencedRate,r=e.ratePlan,o=e.room,i=e.option,l=e.hasMultiplePaymentTypes,c=e.trackingRfrr,u=e.etpModalId,p=e.isPinnedRatePlan;if(!n)return null;var m=t.formatText("hotels.infosite.ratePlan.afrTitle",n.programName);return a.createElement(I.QueryRoute,{query:{pwaDialogNested:"afr-"+r.ratePlanCode}},a.createElement(s.Layer,{id:"infosite-afr-description"+r.ratePlanCode,onDismiss:this.onDescriptionDismiss},a.createElement(Bt,{key:"infosite-afr-description"+r.ratePlanCode,analytics:this.props.analytics,onDismiss:this.onDescriptionDismiss,title:m,artificiallyFencedRate:n,ratePlan:r,room:o,option:i,hasMultiplePaymentTypes:l,trackingRfrr:c,etpModalId:u,isPinnedRatePlan:p})))},t=Ft([c.withLocalization,Object(o.inject)("routeStore","analytics"),o.observer],t)}(a.Component),Ht=n("16an"),Vt=function(e){var t=e.priceBreakDownModel,n=e.view,r=e.roomName;if(!t)return null;var o=t[0],i=o.breakdownHeader,l=o.totalBasePriceLocalization,s=o.totalBasePriceDescription,c=o.totalTaxAndFeesLocalization,u=o.totalTaxAndFees,p=o.totalBasePrice,m=o.totalPriceDescription,d=o.totalPrice,f=o.excludedFromTotalDescription,y=o.bundledFees,h=o.unbundledFees;return a.createElement("ul",{"data-stid":"price-breakdown-container",className:"no-bullet"},a.createElement("li",{className:"uitk-type-left all-x-padding-four "+("small"===n?"all-t-margin-four":"all-t-margin-two")},a.createElement(Wt,{title:"small"===n?r:i})),a.createElement(Gt,{data:{primaryCopy:l,secondaryCopy:s,price:p},view:n}),a.createElement(Gt,{data:{primaryCopy:c,price:u},view:n}),y&&y.length>0&&y.map(function(e,t){return a.createElement(Gt,{key:t,data:{primaryCopy:e.feeTypeDescription,secondaryCopy:e.detail,price:e.fee},view:n})}),a.createElement(Gt,{data:{primaryCopy:m,price:d,isBold:!0},view:n}),h&&h.length>0&&a.createElement(a.Fragment,null,a.createElement("li",{className:"uitk-type-left all-x-padding-four "+("small"===n?"all-t-margin-four":"all-t-margin-two")},a.createElement("div",{className:["all-t-padding-four","uitk-cell all-cell-1-1","uitk-card-separator-top","pwa-theme--grey-700"].join(" ")},f)),h.map(function(e,t){return a.createElement(Gt,{key:t,data:{primaryCopy:e.feeTypeDescription,secondaryCopy:e.detail,price:e.fee},view:n})})))};Vt.displayName="PriceBreakDownContent";var Wt=function(e){var t=e.title;return a.createElement("div",{className:"uitk-cell all-cell-1-1 uitk-type-300 uitk-type-bold"},t)};Wt.displayName="PriceBreakDownTitle";var Gt=function(e){var t=e.data,n=e.view,r="small"===n?"uitk-type-300":"uitk-type-200",o="small"===n?"all-t-margin-four":"all-t-margin-two";return a.createElement("li",{className:"uitk-grid all-x-padding-four all-cell-1-2 uitk-type-left "+o},a.createElement(qt,{primaryCopy:t.primaryCopy,secondaryCopy:t.secondaryCopy,price:t.price,isBold:t.isBold,fontSize:r}))};Gt.displayName="PriceBreakDownRow";var qt=function(e){var t=e.primaryCopy,n=e.secondaryCopy,r=e.price,o=e.isBold,i=e.fontSize,l=o?"uitk-type-300 uitk-type-bold":""+i,s="uitk-type-300"===i?"uitk-type-200":"uitk-type-100";return a.createElement(a.Fragment,null,a.createElement("div",{className:"uitk-cell all-cell-2-3  uitk-grid  "+l},a.createElement("div",{className:"uitk-cell all-cell-1-1"},t),n&&a.createElement("div",{className:"uitk-cell all-cell-1-1 "+s+" pwa-theme--grey-700"},n)),a.createElement("div",{className:"uitk-cell all-cell-1-3 "+l+" uitk-type-right"},r))};qt.displayName="PriceBreakDownCells";var Kt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Yt=Object(O.ClickTracker)(i.Link),Jt=function(e){function t(t){var n=e.call(this,t)||this;return n.onDismiss=n.onDismiss.bind(n),n}return Kt(t,e),t.prototype.onDismiss=function(){this.props.routeStore.goBack()},t.prototype.render=function(){var e=this.props,t=e.priceBreakDownModel,n=e.routeStore,r=e.roomName,o=e.analytics,i=e.ratePlanCode,l=e.id,c="price-breakdown-dialog-"+i;if(!t)return null;var u=t[0].breakdownHeader,p="infosite-room-info-dialog-ratePlans"===l?{pwaDialogNested:c}:{pwaDialog:c},m="infosite-room-ratePlans"===l?"RoomsAndRates.PriceDetailDialog":"RoomInfo.PriceDetailDialog",d=n.mergeQueryString(n.search,p),f=o.setupTracker(m,"Close price details dialog");return a.createElement(a.Fragment,null,a.createElement(Yt,{to:{pathname:n.pathname,search:d},linkName:"Open price details dialog",rfrr:m},u),a.createElement(I.QueryRoute,{query:p},a.createElement(s.Layer,{id:"pricebreakdown-layer-"+i,onDismiss:function(){return n.goBack()}},a.createElement(W.UitkFullscreenDialog,{dialogShow:!0},a.createElement(V.UitkToolbar,{analytics:f,header:u,action:this.onDismiss,iconLabel:"close.dialog"}),a.createElement(W.UitkDialogContent,{zeroPadding:!0},a.createElement(Vt,{priceBreakDownModel:t,view:"small",roomName:r}))))))},t=Qt([Object(o.inject)("routeStore","analytics"),o.observer],t)}(a.Component),Xt=n("KnXB"),Zt=n("KaGk"),$t=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),en=Object(O.ClickTracker)(Zt.UitkLink),tn=function(e){function t(t){var n=e.call(this,t)||this;return n.state={show:!1},n.handleClick=n.handleClick.bind(n),n}return $t(t,e),t.prototype.handleClick=function(e){var t,n=e.currentTarget.parentNode.id;if(this.setState({show:!0}),n.includes("show")){var r=this.state[n];this.setState(((t={})[n]=!r,t))}else this.setState({show:!1})},t.prototype.render=function(){var e=this.props,t=e.priceBreakDownModel,n=e.roomName,r=e.id;if(!t)return null;var o=t[0].breakdownHeader;if(!o)return null;var i="infosite-room-ratePlans"===r?"RoomsAndRates.PriceDetail":"RoomInfo.PriceDetail";return a.createElement(Xt.UitkMenu,{id:"show",isOpen:this.state.show,onTriggerClick:this.handleClick},a.createElement(Xt.UitkMenuTrigger,null,a.createElement(en,{linkName:"price.breakdown.details",rfrr:i},a.createElement("button",null,o))),a.createElement(Xt.UitkMenuContainer,{width:250,position:Xt.PositionType.RIGHT},a.createElement(Vt,{priceBreakDownModel:t,roomName:n})))},t}(a.Component),nn=function(e){var t=e.priceBreakDownModel,n=e.roomName,r=e.ratePlanCode,o=e.id;return t?a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(Jt,{id:o,priceBreakDownModel:t,roomName:n,ratePlanCode:r})),a.createElement(s.ViewMedium,null,a.createElement(tn,{id:o,priceBreakDownModel:t,roomName:n}))):null},rn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),an=function(){return(an=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},on=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rn(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.option,r=e.priceAlignment,o=e.ratePlan,i=e.tonightOnlyDeal,l=e.uitkIcon,s=e.leftAlignPartnerLogo,c=e.strikeoutRow,u=e.id,p=e.roomName,m=e.excludePriceBreakDownLink,d=an({},o),f=d.ratePlanBadgeModel,y=d.price,h=an({},f),g=h.badge,v=h.limitedAvailability;return a.createElement("div",{className:(t?t+" ":"")+"uitk-grid",key:"rate-view-"+n},l&&a.createElement(P.UitkIcon,{className:"uitk-cell all-b-margin-two "+(s?"":"all-grid-align-end"),size:P.UitkIconSize.EXTRA_SMALL,name:l}),a.createElement(jt,{badge:g,tight:c}),y&&a.createElement(ln,{className:t,option:n,ratePlan:o,priceAlignment:r,id:u,roomName:p,excludePriceBreakDownLink:m}),i&&a.createElement(pn,null),v&&a.createElement(un,{limitedAvailability:v,tight:c}))},t}(a.PureComponent),ln=function(e){var t=e.className,n=e.option,r=e.priceAlignment,o=e.ratePlan,i=e.id,l=e.roomName,s=e.excludePriceBreakDownLink,c=o.diff,u=o.price,p=o.ratePlanInfo,m=o.supportingMessages,d=o.priceBreakDownModel,f=o.ratePlanCode,y="uitk-cell"+(p?" all-b-margin-two":"");return a.createElement("div",{className:y,key:"price-"+n},a.createElement(Ht.a,an({},{className:t,price:u,diff:c},{alignmentClasses:r,messages:m,priceFontWeight:"600",id:i})),!s&&d&&d.length>0&&a.createElement(nn,{priceBreakDownModel:d,roomName:l,ratePlanCode:f,id:i}),a.createElement(cn,an({},o)),a.createElement(sn,an({},u)))};ln.displayName="RateViewPrice";var sn=function(e){return a.createElement(a.Fragment,null,e.pointsApplied&&a.createElement("div",{className:["price-points","uitk-cell","pwa-theme--grey-700","uitk-type-100","uitk-type-regular","all-b-margin-one"].join(" ")},e.pointsApplied))},cn=function(e){return a.createElement(a.Fragment,null,e&&!e.ratePlanInfo&&a.createElement(Xe,{className:"uitk-type-100 all-t-padding-one",fees:e.fees,supportingMessages:e.supportingMessages}))},un=function(e){var t=e.limitedAvailability,n="uitk-cell "+(e.tight?"all-t-margin-one":"all-t-margin-two")+" uitk-type-100 pwa-theme--urgency";return a.createElement("div",{className:n},t)};un.displayName="RateViewScarcity";var pn=function(){return a.createElement("div",{className:"uitk-cell all-b-margin-two uitk-type-200 pwa-theme--success"},a.createElement(c.LocalizedText,{message:"hotels.infosite.rateInfoDialog.tonightOnlyDeal.text"}))};pn.displayName="RateViewTonightOnly";var mn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dn=function(e){function t(t){return e.call(this,t)||this}return mn(t,e),t.prototype.render=function(){var e=this.props,t=e.dialogActive,n=e.cellShrink,r=e.excludeReserveButton,o=e.hasMultiplePaymentTypes,i=e.option,l=e.priceAlignment,c=e.ratePlan,u=e.room,p=e.trackingRfrr,m=e.routeStore,d=e.etpModalId,f=e.leftAlignPartnerLogo,y=e.strikeoutRow,h=e.isPinnedRatePlan,g=e.roomPosition,v=e.excludePriceBreakDownLink;if(!c)return null;var E=u.name,k=c&&c.ratePlanTitle&&c.ratePlanTitle.uitkIcon||null,b=c.artificiallyFencedRate,P=n?"all-cell-shrink":"all-cell-1-4 all-cell-fill uitk-type-right";return a.createElement("div",{className:"uitk-cell all-y-padding-zero "+P+" rate-plan__content"},a.createElement(on,{className:"rate-plan__price",option:i,priceAlignment:l,ratePlan:c,uitkIcon:k,leftAlignPartnerLogo:f,strikeoutRow:y,id:d,roomName:E,excludePriceBreakDownLink:v}),b&&a.createElement(s.ErrorBoundary,{label:"hotel.information.afr.program"},a.createElement(Nt,{option:i,ratePlan:c,routeStore:m,trackingRfrr:p}),a.createElement(zt,{artificiallyFencedRate:b,ratePlan:c,room:u,option:i,hasMultiplePaymentTypes:o,trackingRfrr:p,etpModalId:d,isPinnedRatePlan:h})),!b&&!r&&a.createElement("div",{className:"all-t-padding-one"},a.createElement(Be,{room:u,option:i,ratePlan:c,dialogActive:t,hasMultiplePaymentTypes:o,trackingRfrr:p,etpModalId:d,isPinnedRatePlan:h,roomPosition:g})),!r&&c.confidenceMessaging&&a.createElement("div",{"data-stid":"confidence-message",className:"uitk-type-100 all-y-padding-one pwa-theme--grey-700"},c.confidenceMessaging))},t}(a.Component),fn=function(e){var t=e.ratePlan,n=t.cancellationPolicy,r=n&&n.showPolicyTextInfo,o=t.ratePlanInfo;if(!o||!o.splitRateText)return null;var i=r?"all-b-padding-three":"";return a.createElement("div",{className:i,"data-stid":"rate-plan-info-text"},o.splitRateText)};fn.displayName="RatePlanInfoModalText";var yn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hn=function(e){function t(t){var n=e.call(this,t)||this;return n.routeStoreGoBack=n.routeStoreGoBack.bind(n),n}return yn(t,e),t.prototype.routeStoreGoBack=function(){this.props.routeStore.goBack()},t.prototype.render=function(){var e=this.props,t=e.ratePlan,n=e.id,r=e.dialogPrefix;if(!t)return null;var o=t.cancellationPolicy,i=o&&o.showPolicyTextInfo,l=o&&o.policyText||"",u="infosite-room-info-dialog-ratePlans"===n?{pwaDialogNested:r+"policytext-"+t.ratePlanCode}:{pwaDialog:r+"policytext-"+t.ratePlanCode};return a.createElement(I.QueryRoute,{query:u},a.createElement(s.Layer,{id:n+"-policytext",onDismiss:this.routeStoreGoBack},a.createElement(ge.a,{closeA11yLabel:a.createElement(c.LocalizedText,{message:"hotels.infosite.ratePlan.policyText.dismissLabel"}),onClose:this.routeStoreGoBack},a.createElement(fn,{ratePlan:t}),i&&a.createElement("div",{dangerouslySetInnerHTML:{__html:l},"data-stid":"rate-plan-policy-text"}))))},t.defaultProps={dialogPrefix:""},t}(a.Component),gn=function(e){var t=e.analytics,n=e.context,r=e.currentHotel,o=e.id,i=e.excludeReserveButton,l=e.rateViewCellShrink,s=e.isUnavailable,c=e.option,u=e.options,p=e.priceAlignment,m=e.ratePlan,d=e.recommendedOfferRooms,f=e.room,y=e.routeStore,h=e.trackingRfrr,g=e.leftAlignPartnerLogo,v=e.strikeoutRow,E=e.isPinnedRatePlan,k=e.roomPosition,b=e.excludePriceBreakDownLink,P=m.paymentPlans,O=P&&P.length>1,_=d?"recommended-":"",R=o;return a.createElement(a.Fragment,null,a.createElement(dn,{analytics:t,context:n,currentHotel:r,dialogActive:!0,hasMultiplePaymentTypes:O,excludeReserveButton:i,cellShrink:l,option:c,options:u,priceAlignment:p,ratePlan:m,room:f,routeStore:y,trackingRfrr:h,etpModalId:R,leftAlignPartnerLogo:g,strikeoutRow:v,isPinnedRatePlan:E,roomPosition:k,excludePriceBreakDownLink:b}),!s&&a.createElement(Dt,{room:f,ratePlan:m,analytics:t,routeStore:y,id:o,etpModalId:R}),a.createElement(hn,{ratePlan:m,routeStore:y,id:o,dialogPrefix:_}),a.createElement(We,{learnMoreQuery:"afr-"+m.ratePlanCode,hasMultiplePaymentTypes:O,id:o,option:c,ratePlan:m,room:f,routeStore:y,trackingRfrr:h,etpModalId:R,isPinnedRatePlan:E}))},vn=function(){return(vn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},En=function(e){var t=e.small,n=e.ratePlanLoyaltyModel;if(!n||!n.loyaltyEarnMessage)return null;var r=n.loyaltyEarnIcon,o=n.loyaltyEarnMessage,i=n.loyaltyEarnAccessibilityMessage,l={name:r,className:"uitk-cell all-cell-shrink",size:t?P.UitkIconSize.SMALL:void 0},s=Object(f.classNames)("uitk-grid","amenities-list__item","all-r-padding-three","pwa-theme--loyalty",{"all-b-margin-one":t,"all-b-margin-three":!t});return a.createElement("span",{className:s},l.name&&a.createElement(P.UitkIcon,vn({},l)),i&&a.createElement("span",{"data-stid":"rate-plan-loyalty-earn-accessibility-message",className:"is-visually-hidden"},i),a.createElement("span",{"data-stid":"rate-plan-loyalty-earn-message","aria-hidden":Boolean(i),className:"uitk-cell all-cell-3-4 all-cell-shrink amenities-list__item-title",dangerouslySetInnerHTML:{__html:o}}))};En.displayName="RatePlanLoyaltyEarn";var kn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bn=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Pn=Object(O.ClickTracker)(_.UitkLinkButton),On=function(e){function t(t){var n=e.call(this,t)||this;return n.openDescriptionModal=n.openDescriptionModal.bind(n),n}return kn(t,e),t.prototype.openDescriptionModal=function(){var e=this.props,t=e.routeStore,n=e.dialogQuery,r=t.mergeQueryString(t.search,{pwaDialogNested:n});t.updateSearch(r)},t.prototype.render=function(){var e=this.props,t=e.title,n=e.dialogQuery;if(!t)return null;var r="uitk-type-heading-300 rate-plan__option all-b-padding-one";return a.createElement(a.Fragment,null,n&&a.createElement(Pn,{disabled:!1,linkName:"Bring up AFR Rate Plan Description",rfrr:".afrDescription",theme:"primary",onClick:this.openDescriptionModal},a.createElement(_.UitkButtonLabel,null,a.createElement("h4",{className:r},t))),!n&&a.createElement("h4",{className:r},t))},t=bn([Object(o.inject)("routeStore")],t)}(a.Component),_n=function(){return(_n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Rn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Cn=function(e){var t=e.sectionTitle,n=Rn(e,["sectionTitle"]);return n.amenities&&n.amenities.length>0?a.createElement(a.Fragment,null,a.createElement(On,{title:t||"TAAP information"}),a.createElement(ce,_n({},n,{useMiniDialog:!0}))):null};Cn.defaultProps={sectionTitle:"TAAP information"},Cn.displayName="RatePlanMarketingSection";var Dn,wn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xn=function(e){function t(t){return e.call(this,t)||this}return wn(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.description;return t||n?a.createElement("div",{className:"uitk-grid uitk-type-center all-b-padding-two"},a.createElement("span",{className:"uitk-cell uitk-type-300 uitk-type-bold"},t),a.createElement("span",{className:"uitk-cell uitk-type-300"},n)):null},t}(a.Component),Nn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sn=function(){return(Sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Tn=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},An=function(e){function t(t){var n=e.call(this,t)||this,r=t.option,a=t.recommendedOfferRooms;return n.separatorClass=1===r||a?"":"uitk-card-separator-top ",n.renderControlFullRateContent=n.renderControlFullRateContent.bind(n),n}var n;return Nn(t,e),n=t,t.prototype.renderControlFullRateContent=function(){var e=this.props,t=e.l10n,r=e.hasMultipleRatePlans,o=e.id,i=e.option,s=e.ratePlan,c=e.roomPosition,u=e.routeStore,p=e.recommendedOfferRooms,m=s.ratePlanInfo,d=s.amenities,f=s.artificiallyFencedRate,y=s.paymentPlans,h=s.ratePlanCode,g=s.optionTitle,v=s.ratePlanLoyaltyModel,E=s.cancellationPolicy,k=r?"":"uitk-type-300 uitk-type-medium",b=Sn({},{idPrefix:c+"-"+i,triggerDialogId:o},{amenities:d}),P=s&&s.marketingSection,O={idPrefix:c+"-"+i+"-taap",triggerDialogId:o,amenities:P&&P.marketingItems,sectionTitle:P&&P.sectionTitle},_=null!=f,R=Boolean(p&&p.length>0),C=R?"recommended-":"",D=_?t.formatText("hotels.infosite.ratePlan.afrTitle",f.programName):t.formatText("hotels.infosite.ratePlan.title",i),w=y&&y.some(function(e){return!0===e.noCreditCardRequired});return a.createElement(a.Fragment,null,a.createElement("div",{className:n.ratePlanTitleClass},a.createElement(l.AbacusExperiment,{name:"PWA_Recommended_Room"},a.createElement(l.AbacusControl,null,a.createElement(a.Fragment,null,r&&!R&&!_&&a.createElement(On,{title:D}),_&&a.createElement(On,{title:D,dialogQuery:"afr-"+h}))),a.createElement(l.AbacusVariant,{bucket:1},Boolean(g)&&a.createElement(On,{title:g}))),a.createElement(fe,Sn({},E,{noCreditCardRequired:w,cancelClass:k,ratePlanCode:h,ratePlanInfo:m,routeStore:u,triggerDialogId:o,dialogPrefix:C}))),a.createElement(ce,Sn({},b)),a.createElement(Cn,Sn({},O)),a.createElement(En,{small:!0,ratePlanLoyaltyModel:v}),m&&s&&a.createElement(Xe,{className:"uitk-type-200 all-t-padding-two",fees:s.fees,supportingMessages:s.supportingMessages}))},t.prototype.render=function(){var e=this.props,t=e.option,n=e.ratePlan;return a.createElement(b.UitkCardTextSegment,{className:"rate-plan "+this.separatorClass,key:"rate-plan-"+t,"data-stid":"section-rateplan"},a.createElement("div",{className:"uitk-grid"},a.createElement(xn,Sn({},n.ratePlanTitle)),a.createElement("div",{className:"uitk-cell all-cell-3-4 rate-plan__content all-cell-shrink all-y-padding-zero"},this.renderControlFullRateContent()),a.createElement(gn,Sn({},this.props))))},t.ratePlanTitleClass="rate-plan__title all-b-padding-two",t=n=Tn([c.withLocalization],t)}(a.Component),jn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),In=function(){return(In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Mn=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return jn(t,e),n=t,t.prototype.render=function(){var e=this.props,t=e.l10n,r=e.hasMultipleRatePlans,o=e.id,i=e.isUnavailable,l=e.option,s=e.ratePlan,c=e.roomPosition,u=e.routeStore,p=e.recommendedOfferRooms,m=e.room,d=e.trackingRfrr,f=e.isPinnedRatePlan,y=r?"":"uitk-type-300",h=o,g={idPrefix:c+"-"+l,triggerDialogId:o,amenities:s.amenities},v=s&&s.marketingSection,E={idPrefix:c+"-"+l+"-taap",triggerDialogId:o,amenities:v&&v.marketingItems,sectionTitle:v&&v.sectionTitle},k=s.ratePlanInfo,b=s.paymentPlans,P=s.ratePlanLoyaltyModel,O=b&&b.length>1,_=null!=s.artificiallyFencedRate,R=Boolean(p&&p.length>0),C=R?"recommended-":"",D=_?t.formatText("hotels.infosite.ratePlan.afrTitle",s.artificiallyFencedRate.programName):t.formatText("hotels.infosite.ratePlan.title",l),w=s.paymentPlans&&s.paymentPlans.some(function(e){return!0===e.noCreditCardRequired}),x=["uitk-grid","all-x-gutter-three","all-y-padding-three","all-x-padding-three","all-cell-1-3","rate-plan__content","uitk-card-separator-bottom"].join(" ");return a.createElement("div",{className:x},a.createElement("div",{className:"uitk-cell"},a.createElement(xn,In({},s.ratePlanTitle)),Boolean(s.optionTitle)&&a.createElement("span",{className:"pwa-theme--grey-700 uitk-type-200"},s.optionTitle),r&&!R&&!_&&a.createElement(On,{title:D}),_&&a.createElement(On,{title:D,dialogQuery:"afr-"+s.ratePlanCode}),a.createElement("div",{className:n.ratePlanTitleClass},a.createElement(fe,In({},s.cancellationPolicy,{noCreditCardRequired:w,cancelClass:y,ratePlanCode:s.ratePlanCode,ratePlanInfo:s.ratePlanInfo,routeStore:u,triggerDialogId:o,dialogPrefix:C,iconRight:!0,freeCancelClasses:"uitk-type-300 uitk-type-normal pwa-theme--success",freeCancelOneLine:!0})))),a.createElement("div",{className:"uitk-cell"},a.createElement(ce,In({},g,{amenitiesSpacing:"all-b-margin-two uitk-type-300"})),a.createElement(Cn,In({},E,{amenitiesSpacing:"all-b-margin-two uitk-type-300"})),a.createElement(En,{small:!0,ratePlanLoyaltyModel:P})),a.createElement("div",{className:"uitk-cell"},a.createElement("div",{className:"uitk-grid all-cell-1-2"},a.createElement("div",{className:"uitk-cell"},a.createElement("div",{className:"uitk-grid"},k&&s&&a.createElement(Xe,{className:"uitk-type-200 all-t-padding-two",fees:s.fees,supportingMessages:s.supportingMessages}),a.createElement(gn,In({},this.props,{excludeReserveButton:!0,rateViewCellShrink:!0,priceAlignment:"all-grid-align-middle all-grid-align-start",leftAlignPartnerLogo:!0,strikeoutRow:!0})))),a.createElement("div",{className:"uitk-cell all-cell-align-end"},a.createElement(Be,{room:m,option:l,ratePlan:s,dialogActive:!i,hasMultiplePaymentTypes:O,trackingRfrr:d,etpModalId:h,isPinnedRatePlan:f})))))},t.ratePlanTitleClass="rate-plan__title all-b-padding-two",t=n=Mn([c.withLocalization],t)}(a.Component),Bn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Un=function(){return(Un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Fn=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},zn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Hn=function(e){function t(t){var n=e.call(this,t)||this,r=t.room;return n.hasMultipleRatePlans=r.ratePlans&&r.ratePlans.length>1,n}return Bn(t,e),t.prototype.render=function(){var e=this.props,t=e.useThreeCol,n=zn(e,["useThreeCol"]),r=n.currentHotel;return r&&r.searchCriteria&&r.searchCriteria.isDateless?null:t?a.createElement(Ln,Un({},n,{hasMultipleRatePlans:this.hasMultipleRatePlans})):a.createElement(An,Un({},n,{hasMultipleRatePlans:this.hasMultipleRatePlans}))},t=Fn([Object(o.inject)("analytics","context","currentHotel","routeStore")],t)}(a.Component),Vn=function(e){var t=e.excludeReserveButton,n=e.id,r=e.isUnavailable,o=e.position,i=e.ratePlanCollection,l=e.room,c=e.trackingRfrr,u=e.useThreeCol,p=e.isPinnedRatePlan,m=e.optionBaseIndex,d=void 0===m?0:m,f=e.excludePriceBreakDownLink;return i&&0!==i.length?a.createElement(b.UitkCardContent,{className:"rate-plan__wrapper"},i.map(function(e,m){return a.createElement(s.ErrorBoundary,{label:"hotel.information.rooms.rateplan",key:"ratePlan-"+m},a.createElement(Hn,{option:m+d+1,options:i.length,ratePlan:e,room:l,roomPosition:o,isUnavailable:r,id:n,trackingRfrr:c||"",useThreeCol:u,excludeReserveButton:t,isPinnedRatePlan:p,excludePriceBreakDownLink:f}))})):null},Wn=function(e){var t=e.position,n=e.room,r=e.excludeReserveButton,o=e.isPinnedRatePlan,i=e.rffr,l=e.excludePriceBreakDownLink,s=Boolean(t);return n&&s?a.createElement("section",{className:"uitk-cell","data-stid":"room-info-rate-options"},a.createElement(Vn,{id:"infosite-room-info-dialog-ratePlans",position:t,ratePlanCollection:n.ratePlans,room:n,trackingRfrr:i,excludeReserveButton:r,isPinnedRatePlan:o,excludePriceBreakDownLink:l}),a.createElement(Vn,{id:"infosite-room-info-dialog-unavailableRatePlans",position:t,ratePlanCollection:n.unavailableRatePlans,room:n,trackingRfrr:i,excludeReserveButton:r,excludePriceBreakDownLink:l})):null},Gn=function(e){var t=e.description,n=e.name;return n||t?a.createElement(a.Fragment,null,n&&a.createElement("h3",{className:"uitk-type-heading-500","data-stid":"room-info-title-heading"},n),t&&a.createElement("p",{className:"uitk-type-subheading content all-t-margin-one uitk-type-regular","data-stid":"room-info-title-view"},t)):null},qn=n("4Wal"),Kn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qn=function(){return(Qn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Yn=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kn(t,e),t.prototype.render=function(){var e=this.props,t=e.action,n=e.analytics,r=e.currentHotel,o=e.excludeReserveButton,i=e.l10n,l=e.position,s=e.room,c=e.trackingRfrr,u=e.routeStore,p=e.excludePriceBreakDownLink,m=s.beddingOptions,d=s.description,f=s.maxOccupancy,y=s.name,h=s.sleepingArrangementsViewModel,g=s.view,v=s.roomScoreInfo,E=i.formatText,k=r&&r.offers&&r.offers.sectionLabels,P=Boolean(r&&r.offers&&r.offers.pinnedAmenitiesRoomsAndRates),O=n.setupTracker(c,"Close Room Info dialog"),_={header:k&&k.roomInfo||E("hotels.infosite.roomInfoDialog.title"),iconLabel:E("hotels.infosite.roomInfo.cancelButton.a11yLabel"),type:V.ToolbarType.CLOSE},R=g?g.description:"",C=k&&k.roomDetails||E("hotels.infosite.roomInfoDialog.roomDetails");return a.createElement(W.UitkFullscreenDialog,Qn({},{className:"room-info-dialog",dialogShow:!0}),a.createElement(V.UitkToolbar,Qn({},_,{action:t,analytics:O})),a.createElement("section",{className:"uitk-dialog-content"},a.createElement(b.UitkCard,{className:"uitk-flat-border-top"},a.createElement(Xn,{position:l,room:s,name:y}),a.createElement(b.UitkCardContent,{className:"all-x-padding-four all-t-padding-six"},a.createElement(Zn,{description:R,name:y}),s&&v&&a.createElement(er,{roomScoreInfo:v}),a.createElement(B,{options:m,evaluateForExperiment:!0}),a.createElement($n,{analytics:n,sleepingArrangementsViewModel:h}),a.createElement(Q,{maxOccupancy:f}),a.createElement(tr,{description:d,label:C}),a.createElement(Wn,{position:l,room:s,excludeReserveButton:o,isPinnedRatePlan:P,rffr:".RoomInfoDialog",excludePriceBreakDownLink:p}),r.searchCriteria.isDateless&&a.createElement(nr,{hotelPosition:l,routeStore:u})))))},t=Yn([c.withLocalization,Object(o.inject)("currentHotel"),o.observer],t)}(a.Component),Xn=function(e){var t=e.room,n=e.position,r=e.name,o=t.photos,i=n||0===n;return o&&o.length>0&&i?a.createElement(b.UitkCardMedia,null,a.createElement(re,{photos:o,position:n,name:r,triggerId:"infosite-room-info-dialog",trackingRfrr:".Room.InfoDialog.PhotoGallery",avoidLazy:!0})):null},Zn=function(e){var t=e.description,n=e.name;return t||n?a.createElement(b.UitkCardTextSegment,{className:"all-y-gutter-zero","data-stid":"room-info-title"},a.createElement(Gn,{name:n,description:t})):null},$n=function(e){var t=e.analytics,n=e.sleepingArrangementsViewModel;return n?a.createElement(b.UitkCardTextSegment,{"data-stid":"room-info-sleeping-arrangements"},a.createElement(qn.SleepingArrangements,{analytics:t,isDialog:!0,sleepingArrangementsViewModel:n})):null},er=function(e){var t=e.roomScoreInfo;return t?a.createElement(b.UitkCardTextSegment,{"data-stid":"room-info-guest-room-rating",separator:b.UitkCardTextSegment.Separator.BOTTOM},t.score&&a.createElement("h3",{className:"uitk-type-heading-400 all-b-margin-three","data-stid":"room-info-guest-room-rating-score"},a.createElement(c.LocalizedText,{message:"hotels.infosite.roomInfoDialog.roomDetails.roomscore.mainText",data:[t.score]})),t.tags&&t.tags.length>0&&a.createElement("ul",{className:"no-bullet","data-stid":"room-info-guest-room-rating-list"},a.createElement(G,{roomScoreCriteriaAndCount:"hotels.infosite.roomInfoDialog.roomDetails.roomscore.detailText"}),a.createElement(K,{guestLikeItForTags:t.tags}))):null},tr=function(e){var t=e.description,n=e.label;return t?a.createElement(b.UitkCardTextSegment,{"data-stid":"room-info-description",separator:b.UitkCardTextSegment.Separator.BOTTOM},a.createElement("h3",{className:"uitk-type-heading-400 all-b-margin-three"},n),a.createElement("div",{className:"predefined",dangerouslySetInnerHTML:{__html:t}})):null},nr=function(e){var t=e.hotelPosition,n=e.routeStore;return a.createElement(b.UitkCardTextSegment,{"data-stid":"room-info-cta",separator:b.UitkCardTextSegment.Separator.BOTTOM},a.createElement(D,{hotelPosition:t,routeStore:n}))},rr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ar=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},or=Object(O.ClickTracker)(i.Link),ir=function(){},lr=function(e){function t(t){var n=e.call(this,t)||this;return n.roomInfoWrapperRef=a.createRef(),n.roomInfoTriggerRef=a.createRef(),n.state={initialized:!1},n.roomInfoDialogCloseClickCallback=n.roomInfoDialogCloseClickCallback.bind(n),n.onRoomInfoDialogClick=n.onRoomInfoDialogClick.bind(n),n.galleryDialogCloseCallback=n.galleryDialogCloseCallback.bind(n),n}return rr(t,e),t.prototype.componentDidMount=function(){this.setState({initialized:!0})},t.prototype.onRoomInfoDialogClick=function(){if(this.props.room.shouldTrack3piDialog){var e={rfrr:"RoomsAndRates.ShowRoomInformation.3PI",linkName:"Open Room Info dialog 3PI"};this.props.analytics.trackEvent(e.rfrr,e.linkName,this.props.analytics.omnitureData,null)}},t.prototype.roomInfoDialogCloseClickCallback=function(){this.props.routeStore.goBack();var e=this.roomInfoTriggerRef&&j.findDOMNode(this.roomInfoTriggerRef.current),t=this.roomInfoWrapperRef&&this.roomInfoWrapperRef.current;e&&"function"==typeof e.focus?e.focus():t&&"function"==typeof t.focus&&t.focus()},t.prototype.render=function(){var e=this.state.initialized,t=this.props,n=t.analytics,r=t.className,o=t.children,l=t.dialogPrefix,c=t.excludeReserveButton,u=t.position,p=t.room,m=t.routeStore,d=t.trackingRfrr,f=t.width,y=t.includeGallery,h=t.isDateless,g=t.excludePriceBreakDownLink,v=l+"roomInfo-"+p.roomTypeCode,E=m.mergeQueryString(m.search,{pwaDialog:v}),k={pwaDialog:"photoGallery-roomGallery"+u};return a.createElement("div",{className:r,ref:this.roomInfoWrapperRef,"data-stid":this.props["data-stid"]},e&&a.createElement(a.Fragment,null,a.createElement(or,{buttonRef:this.roomInfoTriggerRef,tag:i.Link,to:{pathname:m.pathname,search:E},className:"room-rate-dialog-trigger__btn uitk-type-left",linkName:"Open Room Info dialog",padding:"standard",rfrr:d,width:f,role:"button",onClick:this.props.room.shouldTrack3piDialog?this.onRoomInfoDialogClick:null},o),h&&a.createElement(H,{room:p})),!e&&o,a.createElement(I.QueryRoute,{query:{pwaDialog:v}},a.createElement(s.Layer,{id:"infosite-roominfo",onDismiss:this.roomInfoDialogCloseClickCallback},a.createElement(Jn,{action:this.roomInfoDialogCloseClickCallback,analytics:n,position:u,room:p,trackingRfrr:d,excludeReserveButton:c,routeStore:m,excludePriceBreakDownLink:g}))),y&&a.createElement(I.QueryRoute,{query:k},a.createElement(s.Layer,{id:"infosite-gallery"},a.createElement(M.a,{currentIndex:0,galleryDialogCloseCallback:this.galleryDialogCloseCallback,onIndexChange:ir,galleryName:"Dialog",images:p.photos,trackingRfrr:d}))))},t.prototype.galleryDialogCloseCallback=function(){var e=this.props.routeStore;e&&"function"==typeof e.goBack&&e.goBack()},t.defaultProps={dialogPrefix:"",includeGallery:!1},t=ar([Object(o.inject)("routeStore","analytics"),o.observer],t)}(a.Component),sr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sr(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.dataStid,r=e.position,o=e.room;return a.createElement(lr,{className:t,"data-stid":n,position:r,room:o,trackingRfrr:".RoomInfo"+r,width:"full"},a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(ur,{className:"all-grid-align-end"})),a.createElement(s.ViewMedium,null,a.createElement(ur,null))))},t}(a.Component),ur=function(e){var t=e.className||"";return a.createElement(a.Fragment,null,a.createElement("span",{className:t+" infoicon__more uitk-grid"},a.createElement("span",{className:"uitk-type-300 all-t-padding-four"},a.createElement(c.LocalizedText,{message:"hotels.infosite.rateInfo.moreDetails.linkText"}),a.createElement(P.UitkIcon,{name:"navigate_next",size:P.UitkIconSize.MEDIUM}))))},pr=function(e){var t=e.roomScore;return t?a.createElement("div",{className:"uitk-type-300 uitk-type-bold pwa-theme--grey-700 all-b-padding-two","data-stid":"room-score-text"},a.createElement(c.LocalizedText,{message:"hotels.infosite.roomInfoDialog.roomDetails.roomscore.mainText",data:[t]})):null},mr=function(e){var t=e.roomSummary;return t?a.createElement("div",{className:"room__size uitk-type-300 pwa-theme--grey-700 all-b-padding-two content"},t):null},dr=function(e){var t=e.amenityClasses,n=e.dataStid,r=e.infoDialogClasses,o=e.position,i=e.room,l=i.name,s=i.roomSummary,c=i.roomScoreInfo;return a.createElement(a.Fragment,null,a.createElement(Gn,{name:l}),c&&a.createElement(pr,{roomScore:c.score}),a.createElement(mr,{roomSummary:s}),a.createElement(A,{className:t,room:i}),a.createElement(cr,{className:r,dataStid:n,position:o,room:i}))},fr=function(){return(fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},yr=function(e){var t=e.position,n=e.room,r={room:n,position:t,useThreeCol:e.useThreeCol};return a.createElement(a.Fragment,null,a.createElement(Vn,fr({},r,{ratePlanCollection:n.ratePlans,id:"infosite-room-ratePlans"})),a.createElement(Vn,fr({},r,{ratePlanCollection:n.unavailableRatePlans,id:"infosite-room-unavailableRatePlans",isUnavailable:!0})))},hr=n("9FeO"),gr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vr=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isLinkVisible:!1,titleText:n.props.room.expandRatePlansLabel||Object(c.formatText)("contentToggle.expand.label"),rffrId:"Expand"},n.handleLinkClick=n.handleLinkClick.bind(n),n.prioritizeRatePlans=n.prioritizeRatePlans.bind(n),n}return gr(t,e),t.prototype.handleLinkClick=function(){var e=this.props,t=e.room,n=e.analytics,r=e.position,a=t.expandRatePlansLabel||Object(c.formatText)("contentToggle.expand.label");this.setState(function(e){return{isLinkVisible:!e.isLinkVisible,titleText:e.isLinkVisible?a:Object(c.formatText)("contentToggle.collapse.label"),rffrId:e.isLinkVisible?"Expand":"Collapse"}}),n&&"function"==typeof n.trackEvent&&n.trackEvent(".RatePlan."+this.state.rffrId+".Room"+r,this.state.rffrId,n.omnitureData,null,!0)},t.prototype.prioritizeRatePlans=function(e,t){void 0===t&&(t=0);var n=this.props,r=n.excludeReserveButton,o=n.id,i=n.isUnavailable,l=n.position,s=n.room,c=n.trackingRfrr,u=n.useThreeCol,p=n.isPinnedRatePlan;return a.createElement(Vn,{id:o,position:l,ratePlanCollection:e,room:s,excludeReserveButton:r,isPinnedRatePlan:p,isUnavailable:i,trackingRfrr:c,useThreeCol:u,optionBaseIndex:t})},t.prototype.render=function(){var e=this.props,t=e.ratePlanCollection,n=e.currentHotel;if(!t||0===t.length)return null;var r=this.state,o=r.isLinkVisible,i=r.titleText,l=n&&n.offers&&n.offers.infositeContext.visibleRatePlansThreshold,s=t.slice(0,l),c=t.slice(l);return a.createElement(a.Fragment,null,this.prioritizeRatePlans(s),c&&c.length>0&&a.createElement("div",{className:"uitk-cell"},a.createElement(hr.UitkExpandoLink,{type:hr.UitkExpandoLinkTypeSize.TYPE_200,expandoTitle:i,isVisible:o,handleClick:this.handleLinkClick,className:"all-l-padding-three"},this.prioritizeRatePlans(c,l))))},t}(a.Component),Er=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kr=function(){return(kr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},br=function(e){function t(t){var n=e.call(this,t)||this;return n.state={initialized:!1},n}return Er(t,e),t.prototype.componentDidMount=function(){this.setState({initialized:!0})},t.prototype.render=function(){return a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(Pr,kr({},this.props,{initialized:this.state.initialized}))),a.createElement(s.ViewLarge,null,a.createElement(Or,kr({},this.props))))},t}(a.Component),Pr=function(e){var t=e.loading,n=e.position,r=e.room,o=e.isDateless,i=e.routeStore,l=e.pinnedHeading,u=e.currentHotel,p=e.analytics,m=r.photos,d=r.roomSummary,y=r.name,h=r.roomScoreInfo;if(t)return a.createElement("li",{className:"uitk-cell room room--loading","data-stid":"section-roomtype"},a.createElement(b.UitkCard,{className:"room__card room__card--loading"}));var g=Object(f.classNames)("room_name",{"all-b-padding-two":!d}),v=Object(f.classNames)("room__card",{"pinned__rate__plan all-b-margin-three":l}),E={room:r,position:n,id:"infosite-room-ratePlans"};return a.createElement("li",{className:"uitk-cell room","data-stid":"section-roomtype"},a.createElement(b.UitkCard,{className:v},l&&a.createElement(wr,{pinnedHeading:l}),m&&m.length>0&&a.createElement(re,{photos:m,position:n,name:y}),a.createElement(b.UitkCardContent,null,a.createElement(b.UitkCardTextSegment,{className:"uitk-card-separator-bottom"},a.createElement("div",{className:g,"data-stid":"content-room-name"},a.createElement(Cr,{room:r})),h&&a.createElement(pr,{roomScore:h.score}),a.createElement(mr,{roomSummary:d}),a.createElement(Rr,{room:r}),a.createElement(_r,{className:"room__more-details",content:a.createElement("span",{className:"infoicon__more uitk-grid all-grid-align-end"},a.createElement("span",{className:"uitk-type-300 uitk-type-right all-t-padding-four"},a.createElement(c.LocalizedText,{message:"hotels.infosite.rateInfo.moreDetails.linkText"}),a.createElement(P.UitkIcon,{name:"navigate_next",size:P.UitkIconSize.MEDIUM}))),dataStid:"content-room-more-details",loading:t,position:n,room:r,isDateless:o})),o&&a.createElement(b.UitkCardTextSegment,{"data-stid":"choose-date-cta-segment"},a.createElement(D,{hotelPosition:n,routeStore:i})),a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(vr,kr({},E,{ratePlanCollection:r.ratePlans,isPinnedRatePlan:l&&"string"==typeof l,currentHotel:u,analytics:p}))),a.createElement(s.ViewMedium,null,a.createElement(Vn,kr({},E,{ratePlanCollection:r.ratePlans,isPinnedRatePlan:l&&"string"==typeof l})))),a.createElement(Vn,{id:"infosite-room-unavailableRatePlans",isUnavailable:!0,position:n,ratePlanCollection:r.unavailableRatePlans,room:r,isPinnedRatePlan:l&&"string"==typeof l}))))},Or=function(e){var t=e.loading,n=e.room,r=e.position,o=e.pinnedHeading,i=e.routeStore,l=e.isDateless,s=(e.currentHotel,e.analytics,n.roomSummary),c=n.name,u=n.photos;if(t)return a.createElement("li",{className:"uitk-cell room room--loading","data-stid":"section-roomtype"},a.createElement(b.UitkCard,{className:"room__card room__card--loading"}));var p=Object(f.classNames)("room_name","room__more-details",{"all-b-padding-two":!s}),m=Object(f.classNames)("room__card",{"pinned__rate__plan all-b-margin-three":o}),d=Object(f.classNames)("uitk-cell all-y-padding-three",{"all-cell-1-3":!l},{"all-cell-2-3":l}),y=u&&u.length>0;return a.createElement("li",{className:"uitk-cell room","data-stid":"section-roomtype"},a.createElement(b.UitkCard,{className:m,imageLayout:b.UitkCardImageLayout.LEFT_FULLBLEED},a.createElement("section",{className:"uitk-grid uitk-card-separator-bottom"},o&&a.createElement(wr,{pinnedHeading:o}),l&&a.createElement(b.UitkCardMedia,null,!y&&a.createElement(Dr,null),y&&a.createElement(re,{className:"all-cell-1-4 all-r-padding-three",photos:u,position:r,name:c,isDateless:!0})),a.createElement(b.UitkCardContent,null,!l&&a.createElement(a.Fragment,null,!y&&a.createElement(Dr,null),y&&a.createElement(re,{className:"all-cell-1-4 all-x-padding-three all-y-padding-three",photos:u,position:r,name:c})),a.createElement("div",{className:d},a.createElement(dr,{amenityClasses:"uitk-type-left",dataStid:"content-room-name-with-icon",infoDialogClasses:p,position:r,room:n})),a.createElement("div",{className:"uitk-cell all-cell-fill"},a.createElement(yr,{position:r,room:n}),l&&a.createElement(b.UitkCardTextSegment,{"data-stid":"choose-date-cta-segment"},a.createElement(D,{hotelPosition:r,routeStore:i})))))))},_r=function(e){var t=e.className,n=e.content,r=e.dataStid,o=e.position,i=e.room,l=e.isDateless;return a.createElement(lr,{isDateless:l,className:t,"data-stid":r,position:o,room:i,trackingRfrr:".RoomInfo"+o,width:"full"},n)},Rr=function(e){var t=e.room.roomAmenities;return a.createElement("div",{"data-stid":"content-room-amenities-grid"},t&&t.length>0&&a.createElement(S,{className:"uitk-grid amenities__list-items all-grid-align-center",roomAmenities:t}))},Cr=function(e){var t=e.icon,n=e.room.name,r=Object(f.classNames)("uitk-cell","s-cell-fill","m-cell-fill","l-cell-shrink","uitk-type-heading-500","truncate");return a.createElement("span",{className:"uitk-grid all-grid-align-middle"},a.createElement("span",{"aria-hidden":"true",className:r},n),a.createElement("span",{className:"is-visually-hidden"},a.createElement(c.LocalizedText,{message:"hotels.infosite.roomInfo.name.allyLabel",data:[n]})),t)},Dr=function(){return a.createElement("section",{className:"placeholder_image all-cell-1-4 all-x-padding-three all-y-padding-three uitk-cell"},a.createElement(g.UitkFigure,{className:"room__media"},a.createElement(g.UitkImage,{alt:"",placeholderImage:!0})))},wr=function(e){var t=e.pinnedHeading;return a.createElement(b.UitkCardFeaturedHeader,null,a.createElement("h4",null,t))},xr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nr=new Array(3).fill({}),Sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xr(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.loadingOffers,r=e.isDateless,o=e.routeStore,i=e.pinnedHeading,l=e.priceTrendsInfo,c=e.currentHotel,u=e.analytics,p=e.propertyRoomScoreInfo,m=this.props.rooms&&this.props.rooms.length>0?this.props.rooms:[],d=n?Nr:m;return p&&p.length>0&&(d=c.populateRoomScoreInRooms(d,p)),a.createElement("ul",{className:(t?""+t:"")+" room-list l-x-padding-zero m-x-padding-zero","data-stid":"section-room-list"},d&&d.length>0&&a.createElement(a.Fragment,null,d.map(function(e,t){return a.createElement(s.ErrorBoundary,{label:"hotel.information.rooms.room",key:e.roomTypeCode?"room-"+e.roomTypeCode+"-"+t:"room-"+t},a.createElement(br,{loading:n&&d===Nr,room:e,position:""+(t+1),isDateless:r,routeStore:o,pinnedHeading:i,currentHotel:c,analytics:u}),!n&&0===t&&l&&a.createElement(k,{message:l}))})))},t.propTypes={className:y.string,loadingOffers:y.bool,rooms:o.PropTypes.observableArrayOf(y.object)},t}(a.Component),Tr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ar=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},jr=Object(O.ClickTracker)(i.Link),Ir=function(e){function t(t){return e.call(this,t)||this}return Tr(t,e),t.prototype.render=function(){var e=this.props,t=e.dateOptions,n=e.l10n,r=t&&t[0]&&t[0].pricingDisclaimer;return a.createElement(b.UitkCard,null,a.createElement(b.UitkCardTextSegment,null,a.createElement("div",{className:"uitk-type-400 uitk-type-bold"},a.createElement(c.LocalizedText,{message:"hotels.infosite.availabilityWizard.alternateDatesHeader.text"})),a.createElement("div",{className:"uitk-type-200"},r),a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement("div",{id:"date-option-small",className:"uitk-cell all-y-padding-one"},t.map(function(e,t){return a.createElement(b.UitkCardContent,{key:"alternate-date-option-"+t,className:"all-y-padding-two"},a.createElement(Mr,{additionalClasses:"uitk-grid all-cell-fill",index:t,dateOption:e,l10n:n,alignPricesRight:!0}))}))),a.createElement(s.ViewMedium,null,a.createElement("div",{id:"date-option-medium",className:"uitk-grid m-cell-1-2 l-cell-1-3 xl-cell-1-3 all-y-padding-one"},t.map(function(e,t){return a.createElement("div",{key:"alternate-date-option-"+t,className:"uitk-cell all-y-padding-two all-r-padding-six"},a.createElement(Mr,{index:t,dateOption:e,l10n:n,alignPricesRight:!1}))}))))))},t=Ar([c.withLocalization,Object(o.inject)("analytics","context","currentHotel","routeStore"),o.observer],t)}(a.Component),Mr=function(e){var t=e.additionalClasses,n=void 0===t?"":t,r=e.index,o=e.dateOption,i=e.l10n,l=e.alignPricesRight,s=void 0===l||l,c=o.dateRange,u=o.price,p=o.stayDurationNights,m=o.url,d=c.startDate,f=c.endDate,y=i.formatDateString(d,{skeleton:"MMMEd"}),h=i.formatDateString(f,{skeleton:"MMMEd"});return a.createElement("div",{className:""+n},a.createElement("div",{className:(s&&"uitk-cell all-cell-3-4")+" uitk-type-300 date-option"},a.createElement(jr,{to:m,replace:!1,className:"pwa-theme--link all-y-padding-three",linkName:"Alternate Dates Selection",rfrr:"AlternateDates.SoldOut"+(r+1)},y,"  ",h," (",p,")"),!s&&a.createElement("span",{className:"all-l-padding-four"},u)),s&&a.createElement("div",{className:"uitk-cell all-cell-1-4 uitk-type-right"},u))};!function(e){e.CHECK_IN="CHECK_IN",e.CHECK_OUT="CHECK_OUT"}(Dn||(Dn={}));var Lr=Object(O.ClickTracker)(i.Link),Br=function(e){var t=e.availabilityError,n=e.noRoomsOrRecommendedOrPinnedOffer,r=e.availabilityErrorMessaging,o=e.offerSearchDataStartDate,i=e.offerSearchDataEndDate,l=e.loadingOffers,s=e.inputErrors,c=void 0===s?{}:s,u=e.isRefreshedHISLayout,p=e.pathname,m=e.l10n,d=c.startDate,y=c.endDate,h=c.adults,g=c.children,v=d||y||h||g;if(!v&&!1===l&&n){var E=r&&r.staticMessage;v=t||E||function(e,t,n){var r=e.formatDateString(t,{skeleton:"MMMEEEEd"}),a=e.formatDateString(n,{skeleton:"MMMEEEEd"});return n?e.formatText("hotels.infosite.availabilityWizard.noAvailableRooms.text",r,a):e.formatText("hotels.search.validation.invalidToDate.text")}(m,o,i)}var k=Object(f.classNames)("pwa-theme--urgency",{"all-x-padding-three all-y-padding-three":!u});return v?a.createElement("div",{className:"uitk-grid all-b-padding-three",id:"availability-wizard"},a.createElement("div",{className:u?"":"uitk-cell",id:"availability-message"},a.createElement(b.UitkCard,{className:k},a.createElement("p",null,v,r&&a.createElement(a.Fragment,null," ",a.createElement(Zt.UitkLink,{inline:!0},a.createElement(Lr,{rfrr:"unavailCTA."+r.actionRfrr,linkName:"Recover from availability search criteria error",to:{pathname:p,search:r.actionLink}},r.actionableMessage))))))):null},Ur=function(e){var t=e.headerTitle,n=e.rightCellComponent,r=Object(f.classNames)("m-x-padding-zero l-x-padding-zero uitk-type-heading-600");return a.createElement("div",{className:"uitk-flex uitk-flex-justify-content-space-between uitk-flex-align-items-center all-y-padding-three"},a.createElement("h2",{className:r,"data-stid":"availability-wizard-header-title"},t),n&&a.createElement("div",{"data-stid":"rightCell-header"},n))},Fr=n("MfCg"),zr=n("nW/2"),Hr=n("tdA8"),Vr=n("/LmM"),Wr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gr=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},qr=Object(O.ClickTracker)(i.Link),Kr=function(e){function t(t){var n=e.call(this,t)||this;n.focusButton=null,n.datePickerAnalytics={},n.controls={},n.save=n.save.bind(n),n.dismiss=n.dismiss.bind(n),n.open=n.open.bind(n),n.formatOrPlaceholder=n.formatOrPlaceholder.bind(n),n.focusButton=a.createRef();var r={};return n.props.buttonText&&(r.buttonText=n.props.buttonText),n.state={mounted:!1,textValues:r},n}return Wr(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0})},t.prototype.open=function(){var e=this.props,t=e.analytics,n=e.rfrr,r=e.routeStore,a=e.dateType;r.updateSearch({pwaDialog:"datepicker-"+a}),t&&"function"==typeof t.trackEvent&&n&&t.trackEvent(n,"Open Date Picker",t.omnitureData)},t.prototype.save=function(e,t){var n=this.props.l10n.formatDate;this.props.dismissOnSave&&this.dismiss(),this.props.onChange({target:[{name:"startDate",value:n(e,{raw:"yyyy-MM-dd"})},{name:"endDate",value:n(t,{raw:"yyyy-MM-dd"})}]})},t.prototype.dismiss=function(){this.props.routeStore.goBack();var e=this.focusButton&&this.focusButton.current;e&&"function"==typeof e.focus&&e.focus()},t.prototype.formatOrPlaceholder=function(e,t){var n=this.props,r=n.placeholder,a=n.l10n.formatDateString;return e?a(e,t):r},t.prototype.render=function(){var e=this,t=this.props,n=t.id,r=t.dateType,o=t.startDate,i=t.endDate,l=t.placeholder,c=t.routeStore,u=t.numDaysBookableInAdvance,p=t.midnightBookingOffsetHours,m=t.fetchDatePickerRates,d=t.rfrr,f=t.analytics,y=n+"__btn",h="start"===r?o:i,g=this.formatOrPlaceholder(h,{skeleton:"MMMMd"}),v=this.formatOrPlaceholder(o,{skeleton:"MMMEd"}),E=this.formatOrPlaceholder(i,{skeleton:"MMMEd"}),k=this.formatOrPlaceholder(h,{skeleton:"yMMMMd"}),b=[];this.state.mounted&&b.push("is-hidden");var P=c.mergeQueryString(c.search,{pwaDialog:"datepicker-"+this.props.dateType});return this.datePickerAnalytics={closeAnalytics:f.setupTracker(":ChangeDatesClose","Close Date Picker",f.omnitureData),doneAnalytics:f.setupTracker(":ChangeDatesDone","Apply Date Picker",f.omnitureData)},this.controls={dismiss:this.dismiss,save:this.save},a.createElement(a.Fragment,null,!this.props.disableTextInput&&a.createElement("div",null,a.createElement(zr.UitkTextInput,{id:this.props.id,name:this.props.name,className:b.join(" "),label:a.createElement("span",null,e.props.label,a.createElement("span",{className:"is-visually-hidden"},k)),placeholder:l,value:h,onChange:this.props.onChange,"data-stid":"input-date",icon:"today",invalid:this.props.invalid},this.state.mounted&&a.createElement(zr.UitkFauxInput,{domRef:this.focusButton,id:y,type:"button","data-stid":"open-date-picker",onClick:this.open},a.createElement("span",{className:"is-visually-hidden"},this.props.label," ",k),a.createElement("span",{"aria-hidden":"true"},g)))),this.props.disableTextInput&&a.createElement(qr,{linkName:"Open Date Picker",rfrr:d,to:this.state.mounted?{pathname:c.pathname,search:P}:"/Hotels"},"start"===this.props.dateType?v:E),a.createElement(I.QueryRoute,{query:{pwaDialog:"datepicker-"+this.props.dateType}},a.createElement(s.Layer,{id:"home-datepicker-"+this.props.dateType,onDismiss:this.dismiss},a.createElement(Vr.Overlay,{type:"takeover",openAnimation:"slideup"},a.createElement(Hr.a,{id:n,label:this.props.label,startDate:o,endDate:i,numDaysBookableInAdvance:u,midnightBookingOffsetHours:p,dateType:r,datePickerAnalytics:this.datePickerAnalytics,controls:this.controls,textValues:this.state.textValues,fetchDatePickerRates:m})))))},t.defaultProps={startDate:"",endDate:"",dismissOnSave:!0,disableTextInput:!1,l10n:null},t=Gr([c.withLocalization,Object(o.inject)("routeStore","analytics")],t)}(a.Component),Qr=n("j6Ui"),Yr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jr=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Xr=Object(O.ClickTracker)(_.UitkLinkButton),Zr=function(e){function t(t){var n=e.call(this,t)||this;return n.stepDates=n.stepDates.bind(n),n.state={mounted:!1},n.dateUtils=new Qr.a(t.l10n),n}return Yr(t,e),t.prototype.stepDates=function(){this.props.clickHandler&&"function"==typeof this.props.clickHandler&&this.props.clickHandler(this.determineStepDate(),!0)},t.prototype.determineIfDisabled=function(){return!(this.state.mounted&&this.props.startDate&&this.props.endDate&&this.determineStepDate())},t.prototype.determineStepDate=function(){var e,t,n=this.dateUtils,r=this.props,a=r.endDate,o=r.startDate,i=a,l={target:[]};switch(r.stepperType){case"CHECK_IN_MINUS":e=n.getISODayBefore(o),Qr.a.isBefore(e,n.getToday())?e=void 0:n.getDaysBetween(e,i)>=28&&(e=void 0);break;case"CHECK_IN_PLUS":e=n.getISODayAfter(o),n.getDaysBetween(n.getToday(),e)>=500?e=void 0:n.isSame(e,i)?t=n.getISODayAfter(i):n.getDaysBetween(o,i)>=28&&(e=n.getNDaysFrom(i,-27));break;case"CHECK_OUT_MINUS":t=n.getISODayBefore(i),Qr.a.isBefore(t,n.getISODayAfter(n.getToday()))?t=void 0:n.isSame(t,o)?e=n.getISODayBefore(o):n.getDaysBetween(o,i)>=28&&(t=n.getNDaysFrom(o,27));break;case"CHECK_OUT_PLUS":t=n.getISODayAfter(i),n.getDaysBetween(n.getToday(),t)>500?t=void 0:n.getDaysBetween(o,t)>=28&&(t=void 0);break;default:e=void 0,t=void 0}return!(!e&&!t)&&(e&&l.target.push({name:"startDate",value:e}),t&&l.target.push({name:"endDate",value:t}),l)},t.prototype.componentDidMount=function(){this.setState({mounted:!0})},t.prototype.render=function(){var e,t,n=this.props,r=n.l10n,o=n.linkName,i=n.loadingOffers,l=n.rfrr,s="date-stepper-button";switch(n.stepperType){case"CHECK_IN_MINUS":s+="-check-in-previous",e="chevron_left",t="hotels.infosite.availabilityWizard.changeDate.checkIn.decrease.a11yLabel";break;case"CHECK_OUT_MINUS":s+="-check-out-previous",e="chevron_left",t="hotels.infosite.availabilityWizard.changeDate.checkOut.decrease.a11yLabel";break;case"CHECK_IN_PLUS":s+="-check-in-next",e="chevron_right",t="hotels.infosite.availabilityWizard.changeDate.checkIn.increase.a11yLabel";break;case"CHECK_OUT_PLUS":s+="-check-out-next",e="chevron_right",t="hotels.infosite.availabilityWizard.changeDate.checkOut.increase.a11yLabel"}return a.createElement(Xr,{"data-stid":s,linkName:o,disabled:i||this.determineIfDisabled(),onClick:this.stepDates,rfrr:l,"aria-label":r.formatText(t)},a.createElement("span",{className:"uitk-icon uitk-type-center"},a.createElement(P.UitkIcon,{name:e})))},t.defaultProps={iconName:"",l10n:null},t=Jr([c.withLocalization,Object(o.inject)("routeStore")],t)}(a.Component),$r=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ea=function(){return(ea=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ta=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},na=function(e){function t(t){return e.call(this,t)||this}return $r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"uitk-cell all-y-gutter-zero pwa-theme--grey-700 uitk-type-200 all-cell-1-2"},a.createElement(ra,ea({},this.props)))},t}(a.Component),ra=function(e){var t,n,r,o,i=e.dateType;i===Dn.CHECK_IN?(t="hotels.search.form.fromDateHyphen.label",n="Check-in Date",r=":ChangeDatesCheckIn",o="CHECK_IN"):i===Dn.CHECK_OUT&&(t="hotels.search.form.toDateHyphen.label",n="Check-out Date",r=":ChangeDatesCheckOut",o="CHECK_OUT");var l=ea({stepperButtonLinkName:n,stepperButtonRfrr:r,stepperButtonType:o},e);return a.createElement(a.Fragment,null,a.createElement(c.LocalizedText,{message:t}),a.createElement("div",{className:"uitk-grid all-t-padding-one"},a.createElement("div",{className:"uitk-cell all-cell-1-6 stepper-button all-cell-align-end"},a.createElement(aa,ea({},l))),a.createElement("div",{className:"uitk-cell all-cell-2-3"},a.createElement("span",{className:"uitk-type-400 uitk-type-regular","data-stid":"content-wizard-checkin"},a.createElement(ia,ea({},e)))),a.createElement("div",{className:"uitk-cell all-cell-1-6 stepper-button all-cell-align-start"},a.createElement(oa,ea({},l)))))},aa=function(e){var t=e.clickHandler,n=e.endDate,r=e.loadingOffers,o=e.startDate,i=e.stepperButtonLinkName,l=e.stepperButtonRfrr,s=e.stepperButtonType;return a.createElement(Zr,{clickHandler:t,endDate:n,linkName:i+" Minus One Day",loadingOffers:r,rfrr:l+":MinusOneDay",startDate:o,stepperType:s+"_MINUS"})},oa=function(e){var t=e.clickHandler,n=e.endDate,r=e.loadingOffers,o=e.startDate,i=e.stepperButtonLinkName,l=e.stepperButtonRfrr,s=e.stepperButtonType;return a.createElement(Zr,{clickHandler:t,endDate:n,linkName:i+" Plus One Day",loadingOffers:r,rfrr:l+":PlusOneDay",startDate:o,stepperType:s+"_PLUS"})},ia=function(e){var t,n,r,o,i=e.clickHandler,l=e.dateType,s=e.fetchDatePickerRates,c=ta(e,["clickHandler","dateType","fetchDatePickerRates"]);l===Dn.CHECK_IN?(t=Fr.UitkDatePickerTriggeredSelector.START,n="hotels-check-in",r="startDate",o=":ChangeDatesCheckIn"):l===Dn.CHECK_OUT&&(t=Fr.UitkDatePickerTriggeredSelector.END,n="hotels-check-out",r="endDate",o=":ChangeDatesCheckOut");var u=ea({dateType:t,disableTextInput:!0,dismissOnSave:!1,id:n,label:"",name:r,onChange:i,rfrr:o},c);return a.createElement(Kr,ea({},u,{fetchDatePickerRates:s}))},la=n("jOLC"),sa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ca=Object(O.ClickTracker)(i.Link),ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sa(t,e),t.prototype.render=function(){var e=this.props,t=e.dateOption,n=e.attachedCard,r=t.alternateDateMessage,o=t.url;return a.createElement(ca,{to:o,replace:!0,linkName:"Meta Default Savings Option",rfrr:"RoomsAndRates.SaveMoneyAltDates"},a.createElement(b.UitkCard,{className:"uitk-type-center"},a.createElement(b.UitkCardTextSegment,{className:n?"uitk-card-separator-top":""},r)))},t.defaultProps={attachedCard:!1},t}(a.Component),pa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},ma=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pa(arguments[t]));return e},da=function(){function e(e){this._formatText=e,this.adults=this.adults.bind(this),this.children=this.children.bind(this),this.destination=this.destination.bind(this),this.endDate=this.endDate.bind(this),this.formatText=this.formatText.bind(this),this.isValidDate=this.isValidDate.bind(this),this.startDate=this.startDate.bind(this)}return e.prototype.adults=function(e){var t=e.adults;if(!t||parseInt(t,10)<=0)return this.formatText("hotels.search.validation.invalidGuests.text")},e.prototype.children=function(e){var t=e.children;if(t){var n=this.formatText,r=t.split(","),a=1===r.length?n("hotels.search.validation.missingChildAge.text"):n("hotels.search.validation.missingChildrenAges.text"),o=!1;return r.forEach(function(e){e.match(/\d{1,2}_\d{1,2}/)||(o=!0)}),o?a:void 0}},e.prototype.destination=function(e){if(!e.destination)return this.formatText("hotels.search.validation.invalidDestination.text")},e.prototype.endDate=function(e){var t=e.startDate,n=e.endDate,r=this.isValidDate,a=this.formatText,o=t&&new Date(t),i=n&&new Date(n);if(!r(i))return a("hotels.search.validation.invalidToDate.text");if(r(o)){var l=new Date(o.getFullYear(),o.getMonth(),o.getDate()+28);if(i<o)return a("hotels.search.validation.invalidDateRange.text");if(i>l)return a("hotels.search.validation.invalidDateDateRangeLength.text")}},e.prototype.formatText=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this._formatText.apply(this,ma([e],t))},e.prototype.isValidDate=function(e){return e&&"Invalid Date"!==e.toString()},e.prototype.startDate=function(e){var t=e.startDate,n=this.isValidDate,r=this.formatText;if(!n(t&&new Date(t)))return r("hotels.search.validation.invalidFromDate.text")},e}(),fa=n("jAeX"),ya=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ha=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ga=Object(O.ClickTracker)(i.Link),va=function(e){function t(t){var n=e.call(this,t)||this;return n.focusButton=null,n.state={mounted:!1,value:""},n.roomPickerModel=new la.a({adults:"",children:""},t.l10n),n.open=n.open.bind(n),n.save=n.save.bind(n),n.dismiss=n.dismiss.bind(n),n.focusButton=a.createRef(),n}return ya(t,e),t.prototype.open=function(){var e=this.props,t=e.analytics;e.routeStore.updateSearch({pwaDialog:"travelerPicks"}),t&&"function"==typeof t.trackEvent&&t.trackEvent(":ChangeRoomGuest","Open Room Picker",t.omnitureData)},t.prototype.save=function(e,t,n){this.props.dismissOnSave&&this.dismiss(),this.props.onChange({target:[{name:"adults",value:e},{name:"children",value:t}]}),this.setState({value:n})},t.prototype.dismiss=function(){this.props.routeStore.goBack();var e=this.focusButton&&this.focusButton.current;e&&"function"==typeof e.focus&&e.focus()},t.prototype.componentDidMount=function(){var e=this.props,t=e.valueAdults,n=e.valueChildren;this.roomPickerModel.setupRooms(t,n);var r=this.roomPickerModel.displaySummary;this.setState({mounted:!0,value:r})},t.prototype.componentWillReceiveProps=function(e){if(e.valueAdults!==this.props.valueAdults||e.valueChildren!==this.props.valueChildren){this.roomPickerModel.setupRooms(e.valueAdults,e.valueChildren);var t=this.roomPickerModel.displaySummary;this.setState({value:t})}},t.prototype.render=function(){var e=this,t=this.props.routeStore,n=t.mergeQueryString(t.search,{pwaDialog:"travelerPicks"}),r=this.props.id+"__btn",o=this.state.mounted?this.state.value:this.props.valueAdults,i=[];return this.state.mounted&&i.push("is-hidden"),a.createElement(a.Fragment,null,!this.props.disableTextInput&&a.createElement("div",null,a.createElement(zr.UitkTextInput,{id:this.props.id,name:this.state.mounted?this.props.name:"adults",className:i.join(" "),label:a.createElement("span",null,e.props.label,a.createElement("span",{className:"is-visually-hidden"},o)),placeholder:this.props.placeholder,value:o,onChange:this.props.onChange,"data-stid":"input-date",icon:"person",invalid:this.props.invalid},this.state.mounted&&a.createElement(zr.UitkFauxInput,{domRef:this.focusButton,id:r,type:"button","data-stid":"open-room-picker",onClick:this.open},o)),this.state.mounted&&this.props.valueAdults&&a.createElement("input",{type:"hidden",name:"adults",value:this.props.valueAdults,readOnly:!0}),this.state.mounted&&this.props.valueChildren&&a.createElement("input",{type:"hidden",name:"children",value:this.props.valueChildren,readOnly:!0})),this.props.disableTextInput&&a.createElement(ga,{linkName:"Open Room Picker",className:"uitk-type-300 uitk-type-medium",to:this.state.mounted?{pathname:t.pathname,search:n}:"/Hotels",rfrr:":ChangeRoomGuest"},this.props.displayText||this.state.value),a.createElement(I.QueryRoute,{query:{pwaDialog:"travelerPicks"}},a.createElement(s.Layer,{id:"home-travelerpicks",onDismiss:this.dismiss},a.createElement(_t.AlterLocalizationProvider,null,a.createElement(fa.a,{adultsString:this.props.valueAdults,childrenString:this.props.valueChildren,onSave:this.save,onDismiss:this.dismiss,analytics:this.props.analytics,buttonText:this.props.buttonText})))))},t=ha([Object(o.inject)("routeStore")],t)}(a.Component),Ea=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ka=function(){return(ka=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ba=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Pa=we.ClientLogger.getLoggerWithIdentifier("availabilityWizard.error"),Oa=function(e){function t(t){var n=e.call(this,t)||this,r=t.l10n;return n.searchValidator=new da(r.formatText),n.handleChange=n.handleChange.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.fetchDatePickerRates=n.fetchDatePickerRates.bind(n),n.state={inputErrors:{},midnightBookingOffsetHours:4,numDaysBookableInAdvance:500},n}return Ea(t,e),t.prototype.handleChange=function(e,t){var n=e.target,r={};Array.isArray(n)||(n=[n]),n.forEach(function(e){r[e.name]=e.value}),this.props.currentHotel.setOfferData(r),this.handleSubmit(t)},t.prototype.logTracking=function(e,t){var n=this.props.analytics;n&&"function"==typeof n.clickTracker&&this.props.analytics.clickTracker(e,t,null,null)()},t.prototype.handleSubmit=function(e){void 0===e&&(e=!1);var t=this.props.currentHotel,n={inputErrors:{}};if(this.searchValidator){var r=this.searchValidator.startDate(t.offerSearchData),a=this.searchValidator.endDate(t.offerSearchData),o=this.searchValidator.adults(t.offerSearchData),i=this.searchValidator.children(t.offerSearchData);(r||a||o||i)&&(n.inputErrors={startDate:r,endDate:a,adults:o,children:i})}if(this.hasInputErrors(n)){t.offers&&t.offers.recommendedOffer&&t.clearRecommendedOfferFromOffers(),t.offers&&t.offers.rooms&&t.offers.rooms.length>0&&t.clearRoomsFromOffers(),e||this.props.routeStore.goBack();var l=[],s=n.inputErrors;for(var c in s)s.hasOwnProperty(c)&&void 0!==s[c]&&l.push(s[c]);l.length>0&&Pa.logEvent(new xe.SystemEvent(xe.SystemEventLevel.WARN,"SEARCH_FORM_HANDLE_SUBMIT"),l.join("|"))}else{O.performanceMetrics.reset();var u=this.props.onUpdateResults;u&&"function"==typeof u&&(e?(u(null,t.offerSearchData,!1),this.logTracking("ChangeDatesStepper:Submit","Submitsearch using date stepper buttons")):(u(null,t.offerSearchData,!0),this.logTracking("FORM.SUBMIT","Submit search form")))}this.setState(n)},t.prototype.hasInputErrors=function(e){var t=e||{};for(var n in t.inputErrors)if(void 0!==t.inputErrors[n])return!0},t.prototype.fetchDatePickerRates=function(){var e=this.props,t=e.currentHotel,n=e.context,r=e.l10n,a=t.searchCriteria,o=t.hotelId,i=a.startDate,l=a.endDate,s=a.adults,c=a.children;return t.fetchHISRates(r,i,l,s,c,o,n)},t.prototype.render=function(){var e=this.props,t=e.analytics,n=e.currentHotel,r=e.rooms,o=e.l10n,i=e.loadingOffers,l=e.metaSavingsOption,c=e.alternateDates,u=e.soldOut,p=e.isRefreshedHISLayout,m=e.routeStore,d=this.state,y=d.inputErrors,h=d.midnightBookingOffsetHours,g=d.numDaysBookableInAdvance,v=o.formatText,E=m&&m.pathname,k=n&&n.offers,P=n&&n.offerSearchData,O=k&&k.errorMessage,_=k&&k.recommendedOffer,R=k&&k.pinnedAmenitiesRoomsAndRates,C=Boolean((!r||r.length<=0)&&!_&&!R),D=k&&k.errorMessagingModel,w=P&&P.adults,x=P&&P.children,N=P&&P.startDate,S=P&&P.endDate,T=v("hotels.infosite.searchForm.submit.label"),A=new la.a({adults:w,children:x},o).displaySummary,j=Object(f.classNames)("uitk-type-center",{"datestepper--border":p,"all-t-padding-three":l,"all-y-padding-three":!l}),I=n&&n.offers&&n.offers.sectionLabels,M=I&&I.roomSelection,L={analytics:t,buttonText:T,disableTextInput:!0,dismissOnSave:!1,displayText:A,id:"hotels-travelers",invalid:y&&(y.adults||y.children),l10n:o,label:v("hotels.search.form.travelers.label"),name:"travelerDisplayText",onChange:this.handleChange,valueAdults:w,valueChildren:x},B={analytics:t,headerTitle:M,isRefreshedHISLayout:p},U={clickHandler:this.handleChange,endDate:S,loadingOffers:i,startDate:N,buttonText:T,invalid:y&&y.startDate,midnightBookingOffsetHours:h,numDaysBookableInAdvance:g,fetchDatePickerRates:this.fetchDatePickerRates};return a.createElement("div",{className:"l-x-padding-zero m-x-padding-zero"},a.createElement(Ur,ka({},B,{rightCellComponent:a.createElement(va,ka({},L))})),a.createElement(s.ErrorBoundary,{label:"hotel.information.rooms.availabilityWizardStepper"},a.createElement(Br,{inputErrors:y,availabilityError:O,noRoomsOrRecommendedOrPinnedOffer:C,availabilityErrorMessaging:D,offerSearchDataStartDate:N,offerSearchDataEndDate:S,loadingOffers:i,isRefreshedHISLayout:p,pathname:E,l10n:o}),u&&c&&a.createElement("div",{className:"all-b-padding-four"},a.createElement(Ir,{dateOptions:c})),a.createElement("div",{className:"uitk-grid all-b-padding-three"},a.createElement("div",{className:"uitk-cell"},a.createElement(b.UitkCard,{className:j},a.createElement(na,ka({},U,{dateType:Dn.CHECK_IN})),a.createElement(na,ka({},U,{dateType:Dn.CHECK_OUT})),l&&a.createElement("div",{id:"meta-savings-message",className:"uitk-cell all-t-margin-one"},a.createElement("div",{className:"uitk-card-separator-top"},a.createElement(ua,{dateOption:l})))),!u&&c&&a.createElement("div",{className:"all-y-padding-two"},a.createElement(Ir,{dateOptions:c}))))))},t=ba([c.withLocalization,Object(o.inject)("currentHotel","routeStore","analytics","isRefreshedHISLayout","context"),o.observer],t)}(a.Component),_a=function(e){var t=e.analytics,n=e.className,r=e.teleSalesNumber;if(!r)return null;var o=t?t.clickTracker(".Call","Call",null,function(){return null}):function(){return null};return a.createElement("div",{className:"uitk-flex "+(n||"")},a.createElement("p",{className:"all-r-padding-two"},a.createElement(c.LocalizedText,{message:"hotels.infosite.telesales.text"})),a.createElement("a",{href:"tel:"+r,onClick:o},a.createElement("span",{"data-stid":"telesales-number"},r)))};_a.displayName="BookByPhone";var Ra=n("2eDV"),Ca=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Da=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},wa=function(e){function t(t){var n=e.call(this,t)||this;return n.handleUpdateResults=n.handleUpdateResults.bind(n),n}return Ca(t,e),t.prototype.handleUpdateResults=function(e,t,n){void 0===n&&(n=!1);var r=this.props.onUpdateResults;"function"==typeof r&&r(e,t,n),this.changeSearchTriggerRef&&this.changeSearchTriggerRef.focus&&this.changeSearchTriggerRef.focus()},t.prototype.render=function(){var e=this.props,t=e.currentHotel,n=e.displayFields,r=e.ignoreFields,o=e.l10n,i=e.loadingOffers,l=e.rooms,s=e.routeStore,c=e.searchCriteriaModel,u=e.metaSavingsOption,p=e.isRefreshedHISLayout,m=e.fetchDatePickerRates,d=s&&s.pathname,f=t&&t.offers,y=t&&t.offerSearchData,h=f&&f.errorMessage,g=f&&f.recommendedOffer,v=f&&f.pinnedAmenitiesRoomsAndRates,E=Boolean((!l||l.length<=0)&&!g&&!v),k=f&&f.errorMessagingModel,b=y&&y.startDate,P=y&&y.endDate;return a.createElement("div",{"data-stid":"section-hotel-search"},a.createElement("div",{className:"uitk-grid all-y-gutter-three all-y-padding-three",id:"exposed-search-form"},a.createElement(Br,{availabilityError:h,noRoomsOrRecommendedOrPinnedOffer:E,availabilityErrorMessaging:k,offerSearchDataStartDate:b,offerSearchDataEndDate:P,loadingOffers:i,isRefreshedHISLayout:p,pathname:d,l10n:o})),a.createElement(Ra.SearchForm,{className:"uitk-grid all-b-padding-two all-x-gutter-two all-y-gutter-two",formAction:d,onUpdateResults:this.handleUpdateResults,callToAction:o.formatText("hotels.infosite.searchForm.submit.label"),displayFields:n,ignoreFields:r,model:c,fetchDatePickerRates:m,wrapperClasses:{destination:"uitk-cell s-cell-1-2 m-cell-1-2 l-cell-1-4 xl-cell-1-4",dateRange:"uitk-cell s-cell-1-2 m-cell-1-2 l-cell-1-4 xl-cell-1-4",rooms:"uitk-cell s-cell-1-1 m-cell-3-4 l-cell-1-3 xl-cell-1-3"},autoSubmit:!0}),u&&a.createElement("div",{id:"meta-savings-message",className:"all-b-padding-two"},a.createElement(ua,{dateOption:u})))},t=Da([c.withLocalization,Object(o.inject)("currentHotel","context","routeStore","analytics"),o.observer],t)}(a.Component),xa=n("XCSO"),Na=n("2o8M"),Sa=n("omcm"),Ta=function(){return(Ta=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Aa=Object(o.inject)("routeStore")(function(e){var t=e.ratePlan,n=e.routeStore;return t&&t.cancellationPolicy&&t.ratePlanCode?a.createElement(a.Fragment,null,a.createElement(fe,Ta({},t.cancellationPolicy,{routeStore:n,dialogPrefix:"recommended-",ratePlanCode:t.ratePlanCode})),a.createElement(hn,{ratePlan:t,routeStore:n,id:"recommended-offer",dialogPrefix:"recommended-"})):null});Aa.displayName="CancellationPolicy";var ja=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ia=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Ma=function(e){function t(t){var n=e.call(this,t)||this;return n.formRef=a.createRef(),n.state={buttonDisabled:!1},n.onSubmit=n.onSubmit.bind(n),n.submitAnalytics=n.submitAnalytics.bind(n),n}var n;return ja(t,e),n=t,t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.onSubmit=function(e){var t=e&&e.target;t&&(e.preventDefault(),this.props.uiPage.showProgressIndicator(0),this.setState({buttonDisabled:!0}),requestAnimationFrame(function(){requestAnimationFrame(function(){t.submit()})}))},t.prototype.submitAnalytics=function(){var e=this.props,t=e.analytics,r=e.defaultPaymentTypeTrackingOnSubmit;r&&t&&"function"==typeof t.clickTracker&&t.clickTracker(r,n.DEFAULT_PAYMENT_TEXT,null,null)()},t.prototype.render=function(){var e=this.props,t=e.dataAttributes,n=e.formAction,r=e.formMethod,o=e.label,i=e.option,l=e.paymentPlan,s=e.rfrr,c=e.roomRates,u=e.currentHotel;if(!c||0===c.length||!l)return null;var p=this.state.buttonDisabled,m=c[0].room.hotelId;return a.createElement("form",{action:n,className:["reserve-form","uitk-type-right","all-y-padding-one","l-y-padding-zero"].join(" "),method:r,onSubmit:this.onSubmit,ref:this.formRef},a.createElement("input",{type:"hidden",name:"piid",value:l.piid}),a.createElement("input",{type:"hidden",name:"action",value:l.action}),a.createElement("input",{type:"hidden",name:"hotelID",value:m}),a.createElement("input",{type:"hidden",name:"roomTypeCode",value:l.roomTypeCode}),a.createElement("input",{type:"hidden",name:"ratePlanCode",value:l.ratePlanCode}),a.createElement("input",{type:"hidden",name:"inventoryType",value:l.inventoryType}),a.createElement("input",{type:"hidden",name:"dateFormat",value:l.dateFormat}),a.createElement("input",{type:"hidden",name:"checkInDate",value:l.checkInDate}),a.createElement("input",{type:"hidden",name:"checkOutDate",value:l.checkOutDate}),a.createElement("input",{type:"hidden",name:"isPayLater",value:String(l.payLater)}),a.createElement("input",{type:"hidden",name:"isNoCCRequired",value:String(l.noCreditCardRequired)}),a.createElement("input",{type:"hidden",name:"isPaymentChoiceAvailable",value:String(l.paymentChoiceAvailable)}),a.createElement("input",{type:"hidden",name:"isAirAttachmentEnabled",value:String(l.airAttachmentEnabled)}),a.createElement("input",{type:"hidden",name:"isArtificiallyFencedRate",value:String(l.artificiallyFencedRate)}),a.createElement("input",{type:"hidden",name:"roomOccupancy",value:l.roomOccupancy}),a.createElement("input",{type:"hidden",name:"prices",value:l.prices}),a.createElement("input",{type:"hidden",name:"asymmetricLargeParty",value:"true"}),a.createElement("input",{type:"hidden",name:"pointOfSaleCurrency",value:l.currencyCode}),a.createElement("input",{type:"hidden",name:"currencyCode",value:l.currencyCode}),a.createElement("input",{type:"hidden",name:"guestCountBasedBooking",value:String(l.guestCountBasedBooking)}),a.createElement("input",{type:"hidden",name:"totalPriceWithTaxesAndFees",value:String(l.totalPriceWithTaxesAndFees)}),a.createElement("input",{type:"hidden",name:"valueAddText",value:"PWA"}),a.createElement("input",{type:"hidden",name:"swpApplied",value:u&&u.searchCriteria&&u.searchCriteria.swpToggleOn}),a.createElement(Ce,{description:c[0].room.name,disabled:p,onUserClick:this.submitAnalytics,label:o,option:i,rfrr:s,dataAttributes:t}))},t.defaultProps={dataAttributes:{},formAction:"/Details",formMethod:"POST"},t.ACTION="AsymmetricRoomsOffer",t.DEFAULT_PAYMENT_TEXT="User opening default payment to CKO",t=n=Ia([Object(o.inject)("analytics","context","uiPage","currentHotel","multiItem","routeStore"),o.observer],t)}(a.Component),La=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ba=function(){return(Ba=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ua=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Fa=function(e){function t(t){return e.call(this,t)||this}return La(t,e),t.prototype.render=function(){var e=this.props,t=e.option,n=e.roomRates,r=e.trackingRfrr,o=e.className,i=e.bookingLabel,l=e.roomOccupancy,s=e.paymentPlan;if(!n||0===n.length||!i||!s)return null;var c=n[0].room,u="uitk-grid "+(o?""+o:""),p=n[0].rate.dataAttributes,m={option:t,label:i,dataAttributes:p?p.reserveButton:{}},d=this.isNoCCBookingsPwaExperimentIsOn()&&this.roomHasNoCreditCardOption()?r+".RoomsAndRates.NoCreditCardRequired":r+".RoomsAndRates.BookButton"+t;return a.createElement("div",{className:u},a.createElement(Ma,Ba({roomOccupancy:l,paymentPlan:s,roomRates:n,formAction:c.udpUrl,rfrr:d},m)))},t.prototype.roomHasNoCreditCardOption=function(){var e=this.props.roomRates,t=!1;return e.map(function(e){return e.rate}).forEach(function(e){e.paymentPlans.forEach(function(e){e.noCreditCardRequired&&(t=e.noCreditCardRequired)})}),t},t.prototype.isNoCCBookingsPwaExperimentIsOn=function(){var e=this.props.experiment;return!!(e&&e.exposures&&e.exposures.no_cc_bookings_pwa&&1===e.exposures.no_cc_bookings_pwa.bucket)},t=Ua([Object(o.inject)("context","routeStore","currentHotel","analytics","experiment")],t)}(a.Component),za=function(){return(za=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ha=function(e){var t=e.paymentPlan,n=e.rooms,r=e.price,o=e.bookingLabel,i=e.roomOccupancy,s=e.fees,c=e.supportingMessages,u=n.map(function(e){return{room:e,rate:e&&e.ratePlans&&e.ratePlans[0]}}),p=s&&s.excludedResortDailyText,m=s&&s.excludedPropertyFeeText,d=n&&n[0]&&n[0].ratePlans&&n[0].ratePlans[0],f=["price-points","uitk-cell","pwa-theme--grey-700","uitk-type-100","uitk-type-regular","all-t-margin-one"],y=function(e){var t=e.pointsApplied;return a.createElement("div",{"data-stid":"points-applied-message",className:f.join(" ")},t)};return a.createElement(l.AbacusExperiment,{name:"PWA_rec_module_layout_update"},a.createElement(l.AbacusControl,null,a.createElement("div",{className:"uitk-grid uitk-flex-align-items-flex-end"},a.createElement("div",{className:"uitk-cell all-cell-shrink"},a.createElement(Aa,{ratePlan:d}),a.createElement(Fa,za({option:0,className:"all-grid-align-start",trackingRfrr:"recommended-offer-rateplan"},{paymentPlan:t,roomRates:u,roomOccupancy:i,bookingLabel:o}))),a.createElement("div",{className:"uitk-cell all-cell-fill"},a.createElement("div",{className:"uitk-grid uitk-type-right"},a.createElement("div",{className:"uitk-cell",key:"price-rec-offer"},a.createElement(Ht.a,{price:r,priceFontWeight:"600"}),a.createElement(Va,za({},{supportingMessages:c,resortDailyText:p,propertyFeeText:m})),r&&r.pointsApplied&&a.createElement(y,{pointsApplied:r.pointsApplied})))))),a.createElement(l.AbacusVariant,{bucket:1},a.createElement("div",{className:"uitk-grid uitk-flex-align-items-flex-start"},a.createElement("div",{className:"uitk-cell all-cell-shrink"},a.createElement(Aa,{ratePlan:d})),a.createElement("div",{className:"uitk-cell all-cell-fill"},a.createElement("div",{className:"uitk-grid uitk-type-right"},a.createElement("div",{className:"uitk-cell",key:"price-rec-offer"},a.createElement(Ht.a,{price:r,priceFontWeight:"600"}),a.createElement(Va,za({},{supportingMessages:c,resortDailyText:p,propertyFeeText:m})),r&&r.pointsApplied&&a.createElement(y,{pointsApplied:r.pointsApplied}),a.createElement("div",{className:"all-t-padding-one"},a.createElement(Fa,za({option:0,className:"all-grid-align-start",trackingRfrr:"recommended-offer-rateplan"},{paymentPlan:t,roomRates:u,roomOccupancy:i,bookingLabel:o}))),d&&d.confidenceMessaging&&a.createElement("div",{"data-stid":"confidence-message",className:"uitk-type-100 all-y-padding-one pwa-theme--grey-700"},d.confidenceMessaging)))))))};Ha.displayName="RecOfferFooter";var Va=function(e){var t=e.supportingMessages,n=e.resortDailyText,r=e.propertyFeeText,o=t&&t.length>0;return a.createElement(a.Fragment,null,o&&a.createElement(l.AbacusExperiment,{name:"Dual_Price_TaxFeeIncluded_All_Searches"},a.createElement(l.AbacusControl,null,a.createElement("div",{className:"uitk-cell pwa-theme--grey-700 uitk-type-100 uitk-type-bold","data-stid":"supporting-messages-0"},t[0])),a.createElement(l.AbacusVariant,{bucket:1},a.createElement("div",{className:"uitk-cell pwa-theme--grey-700 uitk-type-100","data-stid":"supporting-messages-0"},t[0])),a.createElement(l.AbacusVariant,{bucket:2},a.createElement("div",{className:"uitk-cell pwa-theme--grey-700 uitk-type-100 uitk-type-bold","data-stid":"supporting-messages-0"},t[0]))),a.createElement(Je,{className:"uitk-type-100 all-t-margin-one",dataStid:"rec-offer-resortfee",text:n}),a.createElement(Je,{className:"uitk-type-100 all-t-margin-one",dataStid:"rec-offer-propertyfee",text:r}))},Wa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ga=function(){return(Ga=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},qa=function(e){function t(t){var n=e.call(this,t)||this;return n.state={currentGalleryIndex:t.photoIndex},n}return Wa(t,e),t.prototype.render=function(){var e=this.props,t=e.room,n=e.cellClass,r=e.ratio,o=e.photoIndex,i=e.index;if(!t||!t.photos||t.photos.length<o+1)return null;var l=t.photos,s={triggerId:"rec-offer-photos",trackingRfrr:".RecommendedOffer.Room.PhotoGallery",images:l,displayImageCount:!0,id:"roomGalleryRecOffer"+i,onIndexChange:this.updateIndex,currentIndex:this.state.currentGalleryIndex,className:"uitk-grid room__gallery-trigger"};return a.createElement("section",{className:"uitk-cell "+n},a.createElement($.a,{ratio:r,useBackgroundImage:!0,src:l[o].src,className:"uitk-cell uitk-card-media rec-offer__media all-image-fit-cover image-loader"}),a.createElement(X.a,Ga({},s)))},t.prototype.updateIndex=function(e){e>=0&&this.setState({currentGalleryIndex:e})},t.defaultProps={photoIndex:0},t}(a.Component),Ka=function(e){var t=e.rooms,n=t[0]&&t[0].room,r=1===t.length&&n&&n.photos&&n.photos.length>1,o=t.map(function(e){return e.room}).filter(function(e){return e&&e.photos&&e.photos.length});return a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(Qa,{displayedRooms:o.slice(0,3),isSmall:!0,extraImage:!1,firstRoom:n})),a.createElement(s.ViewMedium,null,a.createElement(Qa,{displayedRooms:o,isSmall:!1,extraImage:r,firstRoom:n})),a.createElement(s.ViewLarge,null,a.createElement(Qa,{displayedRooms:o,isSmall:!1,extraImage:r,firstRoom:n})))},Qa=function(e){var t=e.displayedRooms,n=e.extraImage,r=e.firstRoom,o=e.isSmall,i=function(e,t){switch(e){case 2:return"all-cell-1-2";case 3:return"all-cell-1-3";case 4:return"all-cell-1-4";default:return t?"all-cell-1-2":"all-cell-1-1"}}(t.length,n),l=function(e,t){var n=g.UitkFigureAspectRatioType.R21_9,r=g.UitkFigureAspectRatioType.R16_9,a=g.UitkFigureAspectRatioType.R1_1;switch(e){case 1:return n;case 2:return t?r:n;default:return t?a:r}}(t.length,o);return a.createElement("div",{className:"uitk-grid all-cell-fill all-x-gutter-three all-b-margin-four"},t.map(function(e,t){return a.createElement(qa,{room:e,key:t,index:t,cellClass:i,ratio:l})}),n&&a.createElement(qa,{room:r,cellClass:i,ratio:l,photoIndex:1}))};Ka.displayName="RecOfferImages";var Ya=function(e){var t=e.room,n=e.occupancies;return a.createElement("div",{className:"uitk-cell s-b-margin-four","data-stid":"recommended-offer-details"},a.createElement("div",{className:"uitk-type-heading-500"},t.name),a.createElement("div",{className:"uitk-grid"},n.map(function(e,t){return a.createElement("div",{className:"uitk-cell",key:t},e)})),a.createElement(lr,{className:"uitk-cell all-t-padding-two","data-stid":"recommended-offer-room-more-details",dialogPrefix:"recommended-",position:"rec-offer-"+t.roomTypeCode,room:t,trackingRfrr:".RoomInfoRecommended",width:"full",excludeReserveButton:!0,includeGallery:!0,excludePriceBreakDownLink:!0},a.createElement(a.Fragment,null,a.createElement(c.LocalizedText,{message:"hotels.infosite.rateInfo.moreDetails.linkText"}),a.createElement(P.UitkIcon,{name:"navigate_next",size:P.UitkIconSize.SMALL}))))};Ya.displayName="RecOfferRoomDetailItem";var Ja=function(e){var t=e.rooms;return a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement("div",{className:"uitk-grid all-cell-1-1 all-b-margin-four all-x-gutter-three all-y-gutter-three"},t.map(function(e,t){return a.createElement(Ya,{key:t,room:e.room,occupancies:e.occupancies})}))),a.createElement(s.ViewMedium,null,a.createElement("div",{className:"uitk-grid "+Xa(t.length,!0)+" all-b-margin-four all-x-gutter-three all-y-gutter-three"},t.map(function(e,t){return a.createElement(Ya,{key:t,room:e.room,occupancies:e.occupancies})}))),a.createElement(s.ViewLarge,null,a.createElement("div",{className:"uitk-grid "+Xa(t.length,!1)+" all-b-margin-four all-x-gutter-three all-y-gutter-three"},t.map(function(e,t){return a.createElement(Ya,{key:t,room:e.room,occupancies:e.occupancies})}))))};function Xa(e,t){return e>0&&e<4?"all-cell-1-"+e:t?"all-cell-1-2":"all-cell-1-4"}Ja.displayName="RecOfferRoomDetails";var Za=function(e){var t=e.roomsTitle,n=e.savingsMessage,r=e.icon;return a.createElement("div",{className:"uitk-grid all-cell-1-2"},a.createElement("div",{className:"uitk-cell all-cell-fill pwa-theme--success all-b-margin-three"},n?a.createElement(b.UitkCardFeaturedHeader,null,a.createElement("h3",null,n)):a.createElement("h3",null,t)),Boolean(r)&&a.createElement("div",{className:"uitk-cell all-cell-shrink"},a.createElement(P.UitkIcon,{name:r,size:P.UitkIconSize.SMALL,className:"all-r-margin-two"})))};Za.displayName="RecOfferTitle";var $a=function(e){var t=e.domRef,n=e.model;if(!n||!n.rooms||0===n.rooms.length||!n.paymentPlan)return null;var r=n.title,o=n.rooms,i=n.distinctRooms,l=n.comboOffer,c=n.bookingLabel,u=n.occupancyParam,p=n.fees,m=n.paymentPlan,d=n.supportingMessages,f=n.savingsMessage,y=f?"uitk-cell":"uitk-cell all-x-padding-three all-y-padding-three",h=f?"uitk-grid all-x-padding-three all-y-padding-three":"uitk-grid";return a.createElement(s.ErrorBoundary,{label:"hotel.information.rooms.recommendedOffer"},a.createElement("div",{"data-stid":"recommended-offer",className:"uitk-grid all-b-padding-three",ref:t},a.createElement(b.UitkCard,{className:y},a.createElement(Za,{roomsTitle:r,savingsMessage:f,icon:null}),a.createElement("section",{className:h},a.createElement(Ka,{rooms:i}),a.createElement(Ja,{rooms:i}),a.createElement(Ha,{rooms:o,price:l,bookingLabel:c,roomOccupancy:u,fees:p,paymentPlan:m,supportingMessages:d})))))};$a.displayName="RecommendedOffer";var eo=function(e){var t=e.mixMatchRoomSelection,n=e.soldOut,r=e.roomListTitle,o=t||r,i=Object(f.classNames)({"all-y-padding-three m-x-padding-zero l-x-padding-zero uitk-type-heading-500 uitk-type-bold":t,"all-b-padding-three":r});return o&&!n?a.createElement("h3",{className:i,"data-stid":"room-title"},o):null},to=function(e){var t=e.model;return t?a.createElement(a.Fragment,null,a.createElement("div",{className:"all-x-padding-three uitk-type-300 all-t-padding-two uitk-type-bold"},t.heading),a.createElement("div",{className:"all-x-padding-three uitk-type-200 all-y-padding-two"},t.description)):null};to.displayName="SecondaryPropertyMessaging";var no=n("OAwv"),ro=n("iiTB"),ao=function(e){var t=e.target,n=e.buttonMessage,r=e.exposedSearchForm,o=e.viewportClasses,i=e.size,l=e.isFullWidth,s=e.routeStore;return n?a.createElement(a.Fragment,null,r&&a.createElement("div",{className:"uitk-cell uitk-type-left xl-cell-2-3 xl-l-padding-two l-cell-2-3 l-r-padding-three"},r),a.createElement("div",{className:o},a.createElement(ro.b,{buttonMessage:n,isFullWidth:l,onClick:function(){var e=s.mergeQueryString(s.search,{scrollPosition:"searchForm"});s.updateSearch(e,void 0,!0),t&&t.ref&&"function"==typeof t.ref.focus&&t.ref.focus()},rffr:"StickyWizardCTA",size:i}))):null};ao.displayName="StickyWizard";var oo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),io=function(){return(io=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},lo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},so=function(e){function t(t){var n=e.call(this,t)||this;return n.state={initialized:!1},n}return oo(t,e),t.prototype.componentDidMount=function(){this.setState({initialized:!0})},t.prototype.render=function(){var e=this.props,t=e.scrollTo,n=e.stickyOffer,r=e.visible,o=e.focusTarget,i=e.buttonMessage,c=e.isDateless,u=e.exposedSearchForm,p=e.routeStore,m=lo(e,["scrollTo","stickyOffer","visible","focusTarget","buttonMessage","isDateless","exposedSearchForm","routeStore"]),d=this.state.initialized;if(!n&&!c)return null;var f=a.createElement("div",{className:"sticky-book-now "+(r?"sticky-book-now--visible":"")},a.createElement(b.UitkCard,{className:"all-grid-nowrap all-y-padding-two elevation-24\n          all-r-padding-three uitk-flat-border-top uitk-flat-border-bottom"},a.createElement(ro.a,io({price:n&&n.price,subText:n&&n.subText,qualifier:n&&n.qualifier,target:{ref:o,scrollTo:t},buttonMessage:i||n&&n.buttonText},m)))),y=a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,f),a.createElement(s.ViewLarge,null,a.createElement(a.Fragment,null)));return a.createElement(a.Fragment,null,c&&d&&!(Object.keys(Object(no.parse)(p.search)).map(function(e){return e.toLowerCase()}).filter(function(e){return["semcid","emlcid","mdpcid"].includes(e)}).length>0)&&a.createElement(l.AbacusExperiment,{name:"Flex_to_PWA_HIS_DATELESS_DESKTOP_experiment"},a.createElement(l.AbacusControl,null,y),a.createElement(l.AbacusVariant,{bucket:1},a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,f),a.createElement(s.ViewMedium,null,a.createElement("div",{className:"sticky-book-now "+(r?"sticky-book-now--visible":"")},a.createElement(b.UitkCard,{className:"all-grid-nowrap all-y-padding-three elevation-24 uitk-flat-border-top uitk-flat-border-bottom"},a.createElement(ao,{target:{ref:o,scrollTo:t},buttonMessage:i,viewportClasses:"uitk-cell all-cell-1-2 all-cell-fill uitk-type-center",size:_.UitkButtonSize.SMALL,isFullWidth:!1,routeStore:p})))),a.createElement(s.ViewLarge,null,a.createElement("div",{className:"sticky-book-now "+(r?"sticky-book-now--visible":"")},a.createElement(b.UitkCard,{className:"all-grid-nowrap all-y-padding-three elevation-24\n                        xl-l-padding-four uitk-flat-border-top uitk-flat-border-bottom xl-r-padding-six l-x-padding-three"},a.createElement(ao,{target:{ref:o,scrollTo:t},buttonMessage:i,exposedSearchForm:u,viewportClasses:"uitk-cell uitk-type-right xl-cell-1-3 xl-l-padding-three l-cell-1-3",size:_.UitkButtonSize.LARGE,isFullWidth:!0,routeStore:p}))))))),!c&&a.createElement(a.Fragment,null,y))},t}(a.Component),co=n("FpWH");n.d(t,"RoomsAndRates",function(){return fo});var uo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),po=function(){return(po=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},mo=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},fo=function(e){function t(t){var n=e.call(this,t)||this,r=t.currentHotel;return n.state={roomListTop:0,stickyVisible:r.searchCriteria&&r.searchCriteria.isDateless,wrapperClassesDesktop:{wrapperClasses:{destination:"uitk-cell s-cell-1-2 m-cell-1-2 l-cell-1-4 xl-cell-1-4",dateRange:"uitk-cell s-cell-1-2 m-cell-1-2 l-cell-1-4 xl-cell-1-4",rooms:"uitk-cell s-cell-1-1 m-cell-3-4 l-cell-1-3 xl-cell-1-3"}},mounted:!1},n.handleUpdateResults=n.handleUpdateResults.bind(n),n.onUpdateResults=n.onUpdateResults.bind(n),n.onUpdateResultsAvailabilityWizard=n.onUpdateResultsAvailabilityWizard.bind(n),n.updateRecOfferDOMRef=n.updateRecOfferDOMRef.bind(n),n.updatePinnedRoomListDOMRef=n.updatePinnedRoomListDOMRef.bind(n),n.navigateToHsr=n.navigateToHsr.bind(n),n.fetchDatePickerRates=n.fetchDatePickerRates.bind(n),n}return uo(t,e),t.prototype.updatePinnedRoomListDOMRef=function(e){this.pinnedRoomRef&&co.unsubscribe(this.pinnedRoomRef,"window"),this.pinnedRoomRef=e},t.prototype.updateRecOfferDOMRef=function(e){this.recOfferRef&&co.unsubscribe(this.recOfferRef,"window"),this.recOfferRef=e},t.prototype.navigateToHsr=function(e){var t=e.formData,n=this.props,r=n.history,a=n.currentHotel;r.push(a.getUpdatedBackToHsrUrl(t))},t.prototype.onUpdateResultsAvailabilityWizard=function(e,t,n){void 0===n&&(n=!0),this.handleUpdateResults(e,po({},this.props.currentHotel.searchCriteria.toJSON(),d.a.parseIn(t)),n)},t.prototype.onUpdateResults=function(e,t,n){void 0===n&&(n=!0),this.handleUpdateResults(e,t.toJSON(),n,function(e,t){return t})},t.prototype.handleUpdateResults=function(e,t,n,r){void 0===n&&(n=!0);var a=this.props,o=a.context,i=a.l10n,l=a.routeStore;e&&e.preventDefault();var s=po({},t,{localDateFormat:o.localDateFormat}),c=l.mergeQueryString(l.search,u.a.parseOut(s,i),function(e){return!e.startsWith("pwaDialog")&&!e.startsWith("rm")&&!p.d.includes(e)});"function"==typeof this.props.forceHistoryPushOnGoBack&&this.props.forceHistoryPushOnGoBack(),n?l.rewriteHistory({search:c},-1):l.updateSearch(c,void 0,!0,r)},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.stickyOffer,r=t.currentHotel,a=t.onRoomsAndRatesTargetAvailable,o=t.analytics,i=r&&r.offers&&r.offers.recommendedOffer,l=r&&r.offers&&r.offers.pinnedAmenitiesRoomsAndRates,s=Boolean(i&&n&&n.useRecommendedOffer)&&this.recOfferRef||Boolean(l&&n)&&this.pinnedRoomRef||Sa.NavigationRefs.Offers.current,c=r.searchCriteria;if(s){var u=co.subscribe("window",s,{didEnter:function(){return e.setState({stickyVisible:!1})},didExit:function(){return e.setState({stickyVisible:!0})}});this.setState({roomListTop:u.boundingBox.top}),"function"==typeof a&&a({scrollTo:u.boundingBox.top})}o&&o.trackEvent&&l&&o.trackEvent("RoomsAndRates.PinnedRateViewed","Pinned rate plan is visible",null,null);var p=d.a.parseOut(c),m=p.startDate,f=p.endDate,y=p.adults,h=p.children,g=void 0===h?"":h;r.setOfferData({startDate:m,endDate:f,adults:y,children:g}),this.setState({wrapperClassesDesktop:{wrapperClasses:{destination:"uitk-cell s-cell-1-1 m-cell-3-4 l-cell-1-3 xl-cell-1-3",dateRange:"uitk-cell s-cell-1-1 m-cell-3-4 l-cell-1-3 xl-cell-1-3",rooms:"uitk-cell s-cell-1-1 m-cell-3-4 l-cell-1-3 xl-cell-1-3"}},mounted:!0})},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.stickyOffer,n=e.currentHotel,r=n&&n.offers&&n.offers.recommendedOffer,a=n&&n.offers&&n.offers.pinnedAmenitiesRoomsAndRates,o=Boolean(r&&t&&t.useRecommendedOffer)&&this.recOfferRef||Boolean(a&&t)&&this.pinnedRoomRef||Sa.NavigationRefs.Offers.current;o&&(co.unsubscribe(o,"window"),this.pinnedRoomRef=null,this.recOfferRef=null),"function"==typeof this.props.onRoomsAndRatesTargetAvailable&&this.props.onRoomsAndRatesTargetAvailable(void 0)},t.prototype.pathIncludesMesoParameter=function(e){return e&&e.indexOf("MCICID=MSHISDL")>-1},t.prototype.fetchDatePickerRates=function(){var e=this.props,t=e.currentHotel,n=e.context,r=e.l10n,a=t.searchCriteria,o=t.hotelId,i=a.adults,l=a.children,s=a.startDate||m.a.getToday(),c=a.endDate||m.a.getTomorrow();return t.fetchHISRates(r,s,c,i,l,o,n)},t.prototype.render=function(){var e=this.state,t=e.roomListTop,n=e.stickyVisible,r=e.wrapperClassesDesktop,o=e.mounted,i=this.props,c=i.alternateDates,u=i.alternateDatesForMeta,p=i.analytics,m=i.currentHotel,d=i.infoModel,y=i.isRefreshedHISLayout,h=i.l10n,g=i.loadingOffers,v=i.loyalty,E=i.multiItem,k=i.noCreditCard,b=i.rooms,P=i.routeStore,O=i.stickyOffer,_=i.title,R=i.priceTrendMessagingCard,C=P&&P.pathname,D=P&&P.search,w=m&&m.defaultedDates,x=!b||b.length<=0,N=m&&m.hotel&&m.hotel.changeSearchDisplayOptions||{},S=N.displayFields,T=N.ignoreFields,A=m.searchCriteria,j=d&&d.additionalInfo,I=j&&j.secondaryPropertyMessaging,M=m&&m.offers&&m.offers.recommendedOffer,L=m&&m.offers&&m.offers.pinnedAmenitiesRoomsAndRates,B=m&&m.offers&&m.offers.pinnedAmenitiesRoomsAndRates&&m.offers.pinnedAmenitiesRoomsAndRates.moreRoomsTitle,U=m&&m.offers&&m.offers.sectionLabels&&m.offers.sectionLabels.mixMatchRoomSelection,F=m&&m.hotel&&m.hotel.teleSalesNumber,z={useProgressIndicator:!1,currentHotelOnly:!0,loadingOffers:g,rooms:b,onUpdateResults:this.onUpdateResultsAvailabilityWizard,metaSavingsOption:u,alternateDates:c,soldOut:x},H=m&&m.offers&&m.offers.sectionLabels,V=H&&H.roomSelection,W=Boolean(L&&L.rooms&&L.rooms.length>0),G=W&&B?B:_,q=Boolean(M&&O&&O.useRecommendedOffer)&&this.recOfferRef||Boolean(L&&O)&&this.pinnedRoomRef||Sa.NavigationRefs.Offers.current,K=Object(f.classNames)("rooms-and-rates s-t-margin-three m-t-margin-three s-x-padding-three",{"all-x-padding-three m-x-padding-three ":y,"all-x-padding-six m-x-padding-zero xl-x-padding-zero":!y}),Q={callToAction:h.formatText("hotels.search.form.submit.label"),className:"uitk-grid all-x-gutter-two all-y-gutter-two",displayFields:S,formAction:o?C:"/Hotel-Search",ignoreFields:T,model:A,wrapperClasses:{destination:"uitk-cell s-cell-1-2 m-cell-1-2 l-cell-1-4 xl-cell-1-4",dateRange:Object(f.classNames)("uitk-cell s-cell-1-2 l-cell-1-4 xl-cell-1-4",{"m-cell-1-3":A.isDateless,"m-cell-1-2":!A.isDateless}),rooms:Object(f.classNames)("uitk-cell s-cell-1-1 l-cell-1-3 xl-cell-1-3",{"m-cell-1-3":A.isDateless,"m-cell-3-4":!A.isDateless})},autoSubmit:A.isDateless,fetchDatePickerRates:this.fetchDatePickerRates},Y=a.createElement(_a,{analytics:p,className:"uitk-flex-justify-content-center",teleSalesNumber:F}),J=Object(f.classNames)("uitk-flex-justify-content-center",{"all-t-padding-two":!w}),X=a.createElement(_a,{analytics:p,className:J,teleSalesNumber:F}),Z={analytics:p,isRefreshedHISLayout:y},$=E&&E.cartInfo&&E.cartInfo.id,ee=m.propertyRoomScoreInfo,te=a.createElement(Ra.SearchForm,po({},Q,r,{afterSubmit:this.navigateToHsr,showErrorValidationOnSubmit:!0,provideDefaultSubmitButton:!A.isDateless})),ne=this.pathIncludesMesoParameter(D),re=a.createElement(Ra.SearchForm,po({},Q,{showErrorValidationOnSubmit:!0,afterSubmit:this.navigateToHsr})),ae=a.createElement(l.AbacusExperiment,{name:"PWA_MeSo_links_to_PDP"},a.createElement(l.AbacusControl,null,re),a.createElement(l.AbacusVariant,{bucket:1},a.createElement(Ra.SearchForm,po({},Q,{showErrorValidationOnSubmit:!0})))),oe=a.createElement(l.AbacusExperiment,{name:"PWA_MeSo_links_to_PDP"},a.createElement(l.AbacusControl,null,te),a.createElement(l.AbacusVariant,{bucket:1},a.createElement(Ra.SearchForm,po({},Q,r,{showErrorValidationOnSubmit:!0,provideDefaultSubmitButton:!A.isDateless}))));return a.createElement(s.ErrorBoundary,{label:"hotel.information.rooms.roomsAndRates"},a.createElement(xa.a,{targetKey:"searchForm"},a.createElement("section",{className:K,"data-stid":"rooms-and-rates",ref:Sa.NavigationRefs.Offers},a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,X),a.createElement(s.ViewMedium,null,!w&&X),a.createElement(s.ViewLarge,null,a.createElement(a.Fragment,null))),w&&a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:-1,"data-stid":"availability-wizard"},a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(Ur,po({},Z,{headerTitle:h.formatText("hotels.infosite.availabilityWizard.roomSelection.dateless.title")}))),a.createElement(s.ViewMedium,null,a.createElement(Ur,po({},Z,{headerTitle:h.formatText("hotels.infosite.availabilityWizard.roomSelection.dateless.title"),rightCellComponent:Y}))))),a.createElement(s.ErrorBoundary,{label:"hotel.information.rooms.exposedSearchForm"},a.createElement("div",{className:"all-y-padding-two","data-stid":"section-hotel-search"},a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,ne&&ae||re),a.createElement(s.ViewLarge,null,ne&&oe||te)),c&&a.createElement("div",{className:"all-y-gutter-two all-t-padding-two"},a.createElement(Ir,{dateOptions:c}))))),!w&&a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(Oa,po({},z))),a.createElement(s.ViewLarge,null,a.createElement(a.Fragment,null,a.createElement(Ur,po({},Z,{headerTitle:V,rightCellComponent:Y})),a.createElement(s.ErrorBoundary,{label:"hotel.information.rooms.availabilityWizard"},x&&c&&a.createElement("div",{className:"all-t-padding-two"},a.createElement(Ir,{dateOptions:c})),a.createElement(wa,{loadingOffers:g,onUpdateResults:this.onUpdateResults,rooms:b,searchCriteriaModel:A,displayFields:S,ignoreFields:T,metaSavingsOption:u,isRefreshedHISLayout:y,fetchDatePickerRates:this.fetchDatePickerRates}),!x&&c&&a.createElement("div",{className:"all-y-padding-two"},a.createElement(Ir,{dateOptions:c})))))),a.createElement("div",{className:y?"all-t-padding-six":""},!w&&v&&a.createElement(Na.MessagingCard,{model:v.genericMessage,tag:"div",className:"all-b-padding-three",isRefreshedHISLayout:y}),k&&a.createElement(Na.MessagingCard,{model:k.genericMessage,tag:"div","data-stid":"no-credit-card",className:"all-b-padding-three",isRefreshedHISLayout:y})),a.createElement(to,{model:I}),a.createElement(xa.a,{targetKey:"rateplans"},y&&a.createElement("hr",null),!y&&a.createElement($a,{model:M,domRef:this.updateRecOfferDOMRef}),L&&W&&a.createElement(s.ErrorBoundary,{label:"hotel.information.rooms.pinnedRoomsAndRates"},a.createElement(Sr,{className:"uitk-grid all-y-gutter-three",loadingOffers:g,rooms:L.rooms,isDateless:A.isDateless,routeStore:P,pinnedHeading:L.title,propertyRoomScoreInfo:ee,currentHotel:m,analytics:p})),a.createElement(s.ErrorBoundary,{label:"hotel.information.rooms.roomList"},a.createElement(eo,{roomListTitle:G,mixMatchRoomSelection:U,soldOut:x}),a.createElement(Sr,{className:"uitk-grid all-y-gutter-three",loadingOffers:g,rooms:b,isDateless:A.isDateless,routeStore:P,propertyRoomScoreInfo:ee,priceTrendsInfo:R,currentHotel:m,analytics:p}))),!$&&A&&A.isDateless&&a.createElement("div",{"data-stid":"dateless-sticky-book",className:"uitk-cell all-cell-1-1 all-cell-fill uitk-type-right"},a.createElement(so,{visible:n,scrollTo:t,focusTarget:q,buttonMessage:h.formatText("hotels.infosite.searchForm.availabilityButton.label"),isFullWidth:!0,isDateless:A.isDateless,exposedSearchForm:te,routeStore:P})),!$&&!w&&!x&&a.createElement(so,{visible:n,scrollTo:t,focusTarget:q,stickyOffer:O}))))},t=mo([i.withRouter,c.withLocalization,Object(o.inject)("currentHotel","context","routeStore","shortlist","analytics","isRefreshedHISLayout","multiItem"),o.observer],t)}(a.Component);t.default=fo}}]);
//# sourceMappingURL=infosite-RoomsAndRates.43a705c402c2762d177e.js.map