!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=285)}({117:function(e,t){e.exports={bernie:[{name:"mobile",range:[0,575]},{name:"tablet",range:[576,991]},{name:"desktop",range:[992,1199]},{name:"xlarge",range:[1200,1e5]}],expweb:[{name:"mobile",range:[0,490]},{name:"tablet",range:[491,1259]},{name:"desktop",range:[1260,1e5]}]}},118:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},119:function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(a[c]=n[c]);if(o){s=o(n);for(var d=0;d<s.length;d++)r.call(n,s[d])&&(a[s[d]]=n[s[d]])}}return a}},120:function(e,t,n){"use strict";var o=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],r(n),r(o))}function s(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(o),n=1;n<t.length;n++)t=(e=r(t,n).join("")).match(o);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var o=s(n[0]);o!==n[0]&&(t[n[0]]=o)}n=i.exec(e)}t["%C2"]="�";for(var r=Object.keys(t),a=0;a<r.length;a++){var u=r[a];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},121:function(e,t,n){(function(t){var n="Expected a function",o=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,m=d||l||Function("return this")(),p=Object.prototype.toString,h=Math.max,f=Math.min,g=function(){return m.Date.now()};function w(e,t,o){var i,r,s,a,u,c,d=0,l=!1,m=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function w(t){var n=i,o=r;return i=r=void 0,d=t,a=e.apply(o,n)}function b(e){var n=e-c;return void 0===c||n>=t||n<0||m&&e-d>=s}function E(){var e=g();if(b(e))return y(e);u=setTimeout(E,function(e){var n=t-(e-c);return m?f(n,s-(e-d)):n}(e))}function y(e){return u=void 0,p&&i?w(e):(i=r=void 0,a)}function _(){var e=g(),n=b(e);if(i=arguments,r=this,c=e,n){if(void 0===u)return function(e){return d=e,u=setTimeout(E,t),l?w(e):a}(c);if(m)return u=setTimeout(E,t),w(c)}return void 0===u&&(u=setTimeout(E,t)),a}return t=v(t)||0,F(o)&&(l=!!o.leading,s=(m="maxWait"in o)?h(v(o.maxWait)||0,t):s,p="trailing"in o?!!o.trailing:p),_.cancel=function(){void 0!==u&&clearTimeout(u),d=0,i=c=r=u=void 0},_.flush=function(){return void 0===u?a:y(g())},_}function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==i}(e))return o;if(F(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=F(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?o:+e}e.exports=function(e,t,o){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError(n);return F(o)&&(i="leading"in o?!!o.leading:i,r="trailing"in o?!!o.trailing:r),w(e,t,{leading:i,maxWait:t,trailing:r})}}).call(t,n(9))},122:function(e,t,n){(function(t){var n="Expected a function",o=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,m=d||l||Function("return this")(),p=Object.prototype.toString,h=Math.max,f=Math.min,g=function(){return m.Date.now()};function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function F(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==i}(e))return o;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?o:+e}e.exports=function(e,t,o){var i,r,s,a,u,c,d=0,l=!1,m=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function v(t){var n=i,o=r;return i=r=void 0,d=t,a=e.apply(o,n)}function b(e){var n=e-c;return void 0===c||n>=t||n<0||m&&e-d>=s}function E(){var e=g();if(b(e))return y(e);u=setTimeout(E,function(e){var n=t-(e-c);return m?f(n,s-(e-d)):n}(e))}function y(e){return u=void 0,p&&i?v(e):(i=r=void 0,a)}function _(){var e=g(),n=b(e);if(i=arguments,r=this,c=e,n){if(void 0===u)return function(e){return d=e,u=setTimeout(E,t),l?v(e):a}(c);if(m)return u=setTimeout(E,t),v(c)}return void 0===u&&(u=setTimeout(E,t)),a}return t=F(t)||0,w(o)&&(l=!!o.leading,s=(m="maxWait"in o)?h(F(o.maxWait)||0,t):s,p="trailing"in o?!!o.trailing:p),_.cancel=function(){void 0!==u&&clearTimeout(u),d=0,i=c=r=u=void 0},_.flush=function(){return void 0===u?a:y(g())},_}}).call(t,n(9))},123:function(e,t){!function(e,t){"use strict";if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},i.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},i.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(e,"resize",this._checkForIntersections,!0),r(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(e,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(i){var r=i.element,s=u(r),a=this._rootContainsTarget(r),c=i.entry,d=t&&a&&this._computeTargetAndRootIntersection(r,n),l=i.entry=new o({time:e.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:n,intersectionRect:d});c?t&&a?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=e.getComputedStyle(n).display){for(var i=u(n),r=d(n),s=!1;!s;){var c=null,l=1==r.nodeType?e.getComputedStyle(r):{};if("none"==l.display)return;if(r==this.root||r==t?(s=!0,c=o):r!=t.body&&r!=t.documentElement&&"visible"!=l.overflow&&(c=u(r)),c&&!(i=a(c,i)))break;r=d(r)}return i}},i.prototype._getRootRect=function(){var e;if(this.root)e=u(this.root);else{var n=t.documentElement,o=t.body;e={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,o=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},i.prototype._rootIsInDom=function(){return!this.root||c(t,this.root)},i.prototype._rootContainsTarget=function(e){return c(this.root||t,e)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=i,e.IntersectionObserverEntry=o}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function i(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function r(e,t,n,o){"function"==typeof e.addEventListener?e.addEventListener(t,n,o||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function s(e,t,n,o){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,o||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function a(e,t){var n=Math.max(e.top,t.top),o=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),r=Math.min(e.right,t.right),s=r-i,a=o-n;return s>=0&&a>=0&&{top:n,bottom:o,left:i,right:r,width:s,height:a}}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e,t){for(var n=t;n;){if(n==e)return!0;n=d(n)}return!1}function d(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}(window,document)},169:function(e,t,n){"use strict";var o=n(46);t.a=((e,t)=>{if(t&&t.length>0)try{"undefined"==typeof navigator||void 0===navigator.sendBeacon?((e,t)=>{Object(o.f)(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>(e&&e.errors&&e.errors.length>0&&console.error(`Error calling Doppler endpoint ${JSON.stringify(e.errors)}`,{methodName:"apiRequest"}),e.json()))})(e,t):navigator.sendBeacon(e,JSON.stringify(t))}catch(e){console.error(`Error calling Doppler endpoint ${JSON.stringify(e)}`,{methodName:"apiRequest"})}})},170:function(e,t,n){"use strict";var o=n(307);class i{constructor(e){this.watchers=new o.a,this.requirement=e}requiresUpdate(e){return this.requirement(e)}notify(e){this.watchers.notify(e)}add(e,t={}){return this.requiresUpdate(Object.keys(t))&&e(t),this.watchers.add(e)}}t.a={Observer:i,Observable:class{constructor(e){this.obj=e||{},this.changelist=[],this._registeredObservers={}}diff(e){const t=[];for(const[n,o]of Object.entries(e))n in this.obj&&this.obj[n]===o||t.push(n);return t}update(e){const t=this.diff(e);if(t.length>0){Object.assign(this.obj,e);const n=JSON.stringify(this.obj);Object.values(this._registeredObservers).forEach(e=>{e.requiresUpdate(t)&&e.notify(JSON.parse(n))})}}get value(){return this.obj}observe(e,t,n){return e in this._registeredObservers||(this._registeredObservers[e]=new i(t)),this._registeredObservers[e].add(n,this.obj)}}}},21:function(e,t,n){"use strict";n(292);var o=n(46);class i{constructor(e){this.moduleName=e}static setSessionConfig(e){i.config=e}sendLogPayload(e,t,n){window.meso=window.meso||{},window.meso.logging=window.meso.logging||[],window.meso.logging.push(Object.assign({type:e,moduleName:this.moduleName},t&&t.message?t:{message:t},i.config,n,o.i))}info(e,t){this.sendLogPayload("info",e,t)}warn(e,t){this.sendLogPayload("warn",e,t)}error(e,t,n){this.sendLogPayload("error",e,Object.assign({exception:t instanceof Error&&t.stack?t.stack:t},n))}trackEvent(e,t,n){this.sendLogPayload("track-event",{name:e,vars:t,events:n})}trackAction(e,t,n){this.sendLogPayload("track-action",{name:e,vars:t,events:n})}perf(e,t){if(t&&t.mark&&performance.getEntriesByName(t.mark).length>0){const{mark:e}=t;performance.measure("Performance Measure",e),t.duration=performance.getEntriesByType("measure")[0].duration,performance.clearMeasures(),delete t.mark}this.sendLogPayload("perf",e,t)}}t.a=i;const r={};t.b=(e=>(r[e]||(r[e]=new i(e)),r[e]))},28:function(e,t,n){"use strict";t.a={CONFIG_API_FETCH_ERROR:{message:"CONFIG_API_FETCH_ERROR",priority:"P0"},BREAKPOINTS_ERROR:{message:"BREAKPOINTS_ERROR",priority:"P3"},CMP_LOADER_FETCH_ERROR:{message:"CMP_LOADER_FETCH_ERROR",priority:"P1"},EXPERIMENTS_INVALID:{message:"EXPERIMENTS_INVALID",priority:"P1"},EXPERIMENTS_EXPOSURE_FAILED:{message:"EXPERIMENTS_EXPOSURE_FAILED",priority:"P2"},EMAIL_FOUND_IN_URL:{message:"EMAIL_FOUND_IN_URL",priority:"P1"},TARGETING_FETCH_ERROR:{message:"TARGETING_FETCH_ERROR",priority:"P1"},TARGETING_UPDATE_ERROR:{message:"TARGETING_UPDATE_ERROR",priority:"P1"},TARGETING_INVALID:{message:"TARGETING_INVALID",priority:"P1"}}},285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(286),i=n(123),r=(n.n(i),n(21)),s=n(28),a=n(46);(()=>{if(Object(a.a)(window.location.href)){Object(r.b)("logger").error(s.a.EMAIL_FOUND_IN_URL,new Error("Email included in URL"),{methodName:"checkEmail"})}else Object(o.a)()})()},286:function(e,t,n){"use strict";var o=n(287),i=(n.n(o),n(288)),r=(n(294),n(297)),s=n(310),a=n(311),u=n(312);const c=()=>{a.a.initEvents(),u.a.initialize(),r.a.initEvents(),s.a.initEvents()};t.a=(()=>Object(i.a)(c))},287:function(e,t){!function(){if(window){window.meso=window.meso||{};try{Function("() => {}; const spread = { ...{} };"),window.meso.ecmascript="6"}catch(e){window.meso.ecmascript="5"}}}()},288:function(e,t,n){"use strict";var o=n(45),i=n(291);t.a=(e=>{if(window.WebComponents={root:o.a.webComponentAssetsBaseUrl},Object(i.a)(),window&&window.meso&&"5"===window.meso.ecmascript){const t=document.createElement("script"),n="custom-elements-es5-adapter.js";t.src=o.a.webComponentAssetsBaseUrl.concat(n),t.defer="defer",t.onload=e,document.head.appendChild(t)}else e()})},289:function(e,t,n){"use strict";t.a={environmentName:"Production",toolkit:"https://www.uciservice.com/md/api/v1/toolkit",webComponentAssetsBaseUrl:"https://c.travel-assets.com/meso-loaders/webcomponentsjs/",fetchTimeout:5e3,meso:{storage:{targeting:"com.expedia.meso.targeting"}},uciservice:"https://www.uciservice.com",experiments:{throttle:200,abacus:{endpoint:"/api/bucketing/v1"}},logging:{performance:{endpoint:"https://www.expedia.com/cl/data/creativePerformance.json?batch=true"},error:{endpoint:"https://www.expedia.com/cl/data/creativePerformance.json?batch=true"},autoCallout:6e4}}},290:function(e,t,n){"use strict"},291:function(e,t,n){"use strict";var o=n(21),i=n(28);const r=Object(o.b)("webcomponents-loader");t.a=function(){var e,t=!1,n=[],o=!1;function s(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}function a(){window.customElements&&customElements.polyfillWrapFlushCallback&&customElements.polyfillWrapFlushCallback(function(t){e=t,o&&e()})}function u(){window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(window.document),t=!0,c().then(s)}function c(){o=!1;var t=n.map(function(e){return e instanceof Function?e():e});return n=[],Promise.all(t).then(function(){o=!0,e&&e()}).catch(function(e){r.error(i.a.ADS_LOADER_WEBCOMPONENT_FLUSH_NOT_EXECUTED,e)})}window.WebComponents=window.WebComponents||{},window.WebComponents.ready=window.WebComponents.ready||!1,window.WebComponents.waitFor=window.WebComponents.waitFor||function(e){e&&(n.push(e),t&&c())},window.WebComponents._batchCustomElements=a;var d="webcomponents-loader.js",l=[];(!("attachShadow"in Element.prototype&&"getRootNode"in Element.prototype)||window.ShadyDOM&&window.ShadyDOM.force)&&l.push("sd"),window.customElements&&!window.customElements.forcePolyfill||l.push("ce");var m=function(){var e=document.createElement("template");if(!("content"in e))return!0;if(!(e.content.cloneNode()instanceof DocumentFragment))return!0;var t=document.createElement("template");t.content.appendChild(document.createElement("div")),e.content.appendChild(t);var n=e.cloneNode(!0);return 0===n.content.childNodes.length||0===n.content.firstChild.content.childNodes.length}();if(window.Promise&&Array.from&&window.URL&&window.Symbol&&!m||(l=["sd-ce-pf"]),l.length){var p,h="bundles/webcomponents-"+l.join("-")+".js";if(window.WebComponents.root)p=window.WebComponents.root+h;else{var f=document.querySelector('script[src*="'+d+'"]');p=f.src.replace(d,h)}var g=document.createElement("script");g.src=p,"loading"===document.readyState?(g.setAttribute("onload","window.WebComponents._batchCustomElements()"),document.write(g.outerHTML),document.addEventListener("DOMContentLoaded",u)):(g.addEventListener("load",function(){a(),u()}),g.addEventListener("error",function(){r.error(i.a.ADS_LOADER_WEBCOMPONENT_POLYFILL_NOT_LOADED,{url:p},err)}),document.head.appendChild(g))}else"loading"===document.readyState?document.addEventListener("readystatechange",function e(){document.removeEventListener("readystatechange",e),u()}):(t=!0,s())}},292:function(e,t,n){"use strict";n(169),n(293)},293:function(e,t,n){"use strict";var o=n(45),i=n(169);"undefined"!=typeof window&&window.addEventListener("beforeunload",()=>{Object(i.a)(o.a.logging.performance.endpoint,window.meso.logging),window.meso.logging=[]}),setTimeout(()=>{const e=()=>{Object(i.a)(o.a.logging.performance.endpoint,window.meso.logging),window.meso.logging=[],setTimeout(e,o.a.logging.autoCallout)};e()},o.a.logging.autoCallout)},294:function(e,t,n){"use strict";var o=n(117),i=n.n(o),r=n(66);const s=new(n(295).a)(i.a),a=e=>{switch(e.type){case"platform":s.setPlatform(e.platform)}};window&&(window.meso=window.meso||{},window.meso.breakpoints=window.meso.breakpoints||[],window.meso.breakpoints.isEventQueue||Object(r.b)(a,window.meso.breakpoints,{},"breakpoints"))},295:function(e,t,n){"use strict";var o=n(21),i=n(28),r=n(296);window.meso=window.meso||{},window.meso.breakpoints=window.meso.breakpoints||[];const s=Object(o.b)("PlatformBreakpoints");t.a=class{constructor(e={}){this._platforms=e,this._breakpoints=[]}_getPlatformConfig(e){if(Object.keys(this._platforms).includes(e)){const t=this._platforms[e];return window.meso.breakpoints.isEventQueue?window.meso.breakpoints.config=t:s.warn(i.a.BREAKPOINTS_ERROR,{description:`${this.constructor.name}: window.meso.breakpoints is not an event queue as expected`,methodName:"_getPlatformConfig"}),t}return null}setPlatform(e){const t=this._getPlatformConfig(e);null===t?s.warn(i.a.BREAKPOINTS_ERROR,{description:`${this.constructor.name}: platform not found in known breakpoint platforms`,requested:e,known:Object.keys(this._platforms),methodName:"setPlatform"}):(this._removeBreakpoints(),this._addBreakpoints(t))}_addBreakpoints(e){e.forEach(e=>{const t=new r.a(e);t.startListening(),this._breakpoints.push(t)})}_removeBreakpoints(){this._breakpoints=this._breakpoints.filter(e=>(e.stopListening(),!1))}}},296:function(e,t,n){"use strict";var o=n(21),i=n(28);window.meso=window.meso||{},window.meso.adcontext=window.meso.adcontext||[],window.meso.breakpoints=window.meso.breakpoints||[];const r=Object(o.b)("Breakpoint");t.a=class{constructor(e){this._mq=window.matchMedia(this._createMediaQuery(...e.range)),this._breakpoint=e.name,this._callback=this._mediaQueryCallback.bind(this)}_createMediaQuery(e,t){return`(min-width: ${e}px) and (max-width: ${t}px)`}_mediaQueryCallback(){this._mq.matches&&(window.meso.breakpoints.isEventQueue?(window.meso.breakpoints.current=this._breakpoint,window.meso.adcontext.push({breakpoint:this._breakpoint})):r.warn(i.a.BREAKPOINTS_ERROR,{description:`${this.constructor.name}: window.meso.breakpoints is not an event queue as expected`,methodName:"_mediaQueryCallback"}))}startListening(){this._mq.addListener(this._callback),this._callback()}stopListening(){this._mq.removeListener(this._callback)}}},297:function(e,t,n){"use strict";var o=n(298),i=n(305),r=n(306),s=n(170),a=n(308),u=n(81),c=n(21);const d=new s.a.Observable({}),l=Object(c.b)("meso-events");function m(e){if(e.hasOwnProperty("canTrack")&&(Object(u.c)("canTrack",e.canTrack),window&&window.meso&&window.meso.privacy&&(window.meso.privacy.canTrack=e.canTrack),l.info("Initialized target received",{methodName:"fetchAdsAndRender"})),e.hasOwnProperty("canSell")&&Object(u.c)("canSell",e.canSell),e.pageId&&e.siteId&&e.locale){const t={siteId:e.siteId,pageName:e.pageId,locale:e.locale,variant:e.variant||"default"};window.meso.adcontext=window.meso.adcontext||[],window.meso.adcontext.push(t),a.a.initialize(),d.update(e),o.a.fetchAds(e)}}function p(e){if(null!==e&&"object"==typeof e)switch(e.type){case"target":c.a.setSessionConfig({siteId:e.siteId,pageId:e.pageId,variant:e.variant,locale:e.locale}),m(e);break;case"render":o.a.renderAds();break;case"clear":o.a.clearCache();break;case"logger":r.a.initialize(e.logger||null);break;default:m(e)}}t.a={initEvents:function(){if(window.meso=window.meso||{},window.meso.initialize=window.meso.initialize||[],!window.meso.initialize.isEventQueue){const e=["clear","logger","target","render"];window.meso.initialize.forEach(e=>{null!==e&&"object"==typeof e&&(e.type=e.type||"target")}),window.meso.initialize=Object(i.a)(p,window.meso.initialize,e,{limit:1,observable:d})}}}},298:function(e,t,n){"use strict";var o=n(46),i=n(45),r=n(299),s=n(81),a=n(21),u=n(28);const c=Object(a.b)("ads-delivery-interface");let d={};const l=(e={})=>{const t=[],n=Object(s.b)("canTrack")||!1,i=Object(o.c)(),r=0===Object(o.d)("MeSo_PWA_Breakpoints_Framework");return e&&e.script&&e.script.forEach(e=>{const s=e.gdprCompliant||!1,a=n||s,u=r||null===i||!Array.isArray(e.breakpoints)||e.breakpoints.includes(i);if(e.src&&a&&u){window&&window.meso&&"5"===window.meso.ecmascript&&e.repo&&"templates"===e.repo&&(e.src=e.src.replace(/\.js$/,".es5.js"));const n=e;t.push(Object(o.g)(e.src,n))}}),Promise.all(t)},m=()=>{if(0===Object.keys(d).length)return;const e=(()=>{let e;try{e=JSON.parse(JSON.stringify(d))}catch(e){return d}if(0===Object.keys(d).length)return e;const t=Object(o.c)();return null===t?e:(e.config&&Object.keys(e.config).forEach(n=>{Array.isArray(e.config[n].conditions)&&e.config[n].conditions.forEach(o=>{const i=o.uci||o.slot;Array.isArray(o.breakpoints)&&!o.breakpoints.includes(t)&&e.content&&e.content[n]&&e.content[n][i]&&delete e.content[n][i]})}),e)})(),t=new CustomEvent("mesoRender",{detail:e});window.dispatchEvent(t)},p=()=>{d={}},h=e=>{window.dispatchEvent(new CustomEvent("mesoFallback",{detail:{type:e}}))};t.a={fetchAds:e=>{p();const{pageId:t,siteId:n,locale:s,variant:a}=e,f=e=>{l(e.resources||{}).then(e=>{c.info("Resources loaded successfully",{adResourcesLoaded:e.map(e=>e.src),methodName:"loadResources"}),m()})},g=void 0===a?`${t}/${n}/${s}`:`${t}/${n}/${s}/${a}`,w=`${i.a.toolkit}/${g}`;window.performance.mark("DisplayRequest"),Object(o.f)(w,{headers:{Accept:"application/json"},mode:"cors"}).then(e=>e.json()).then(e=>{c.perf("Display Request",{mark:"DisplayRequest",endpoint:w}),(d=e).timestamp=Date.now(),void 0===e.error?(r.a.initialize(e),c.info("API call success",{url:w,methodName:"fetchAds"}),"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?f(e):window.addEventListener("readystatechange",t=>{"interactive"===t.target.readyState&&f(e)})):(h("ErrorFetchingAdsConfiguration"),c.error(u.a.CONFIG_API_FETCH_ERROR,e.error,{url:w,methodName:"fetchAds"}));const t=0===Object(o.d)("MeSo_PWA_Breakpoints_Framework");window.meso.adcontext.observe("ads-delivery-interface",e=>e.includes("breakpoint"),()=>t?m():f(e))}).catch(e=>{h("FetchAdsConfigurationRequestBlockedOrTimeout"),c.error(u.a.CONFIG_API_FETCH_ERROR,e,{url:w,methodName:"fetchAds"})})},renderAds:m,clearCache:p,_loadResources:l}},299:function(e,t,n){"use strict";var o=n(80),i=n.n(o),r=n(66),s=n(46),a=n(81),u=n(301);let c=null;t.a={initialize:e=>{const{params:t,config:n}=e;if(!Object(a.b)("canTrack"))return;const o=e=>{switch(e.type){case"update":e.experiments&&c.update(e.experiments);break;case"clear":c.clear();break;case"override":void 0!==e.content&&"string"==typeof e.content&&Object(s.h)("meov",e.content);break;case"exposure":void 0!==e.experiments&&Array.isArray(e.experiments)&&c._exposure(e.experiments);break;case"control":c.control()}},d=i.a.parse(location.search);void 0!==d.meov&&Object(s.h)("meov",d.meov),n&&t&&n.EXPERIMENTS&&n.EXPERIMENTS.conditions&&(c=new u.a(n.EXPERIMENTS.conditions,t),window.meso=window.meso||{},window.meso.experiments=window.meso.experiments||[],window.meso.experiments.isEventQueue||(window.meso.experiments=Object(r.b)(o,window.meso.experiments)),window.meso.experiments.configuredExperimentNames=c.configuredExperimentNames,window.meso.experiments.configuredOverrideNames=c.configuredOverrideNames,c.initialize())}}},300:function(e,t,n){"use strict";t.a={canTrack:!1,canSell:!0}},301:function(e,t,n){"use strict";var o=n(121),i=n.n(o),r=n(45),s=n(46),a=n(21),u=n(28),c=n(302);const d=Object(a.b)("parseOverrideExperiments"),l=()=>{try{const e={},t=Object(s.b)("meov");return(null===t?[]:t.split(",")).forEach(t=>{const n=t.split(".");e[n[0]]=n[1]}),e}catch(e){return{}}};t.a=class{constructor(e,t){this._config=e,this._target=t,this._cache={},this._modules=new c.a(this._target),this._modules.evaluate(this._config),this._throttledInitializeExperiments=i()(this._initializeExperiments.bind(this),r.a.experiments.throttle,{leading:!0,trailing:!0}),this._throttledUpdateExperiments=i()(this._updateExperiments.bind(this),r.a.experiments.throttle,{leading:!0,trailing:!0}),window.addEventListener("mesoExperiments",e=>{if(e&&e.detail)switch(e.detail.type){case"register":this._throttledInitializeExperiments();break;case"exposure":e.detail&&e.detail.experiments&&Array.isArray(e.detail.experiments)&&this._exposure(e.detail.experiments)}})}initialize(){this._initializeExperiments()}_initializeExperiments(){window.dispatchEvent(new CustomEvent("mesoExperiments",{detail:{type:"initialize",experiments:this._cache}}))}_updateExperiments(){window.dispatchEvent(new CustomEvent("mesoExperiments",{detail:{type:"update",experiments:this._cache}}))}_resolveIds(e=[]){const t=[];Object.keys(e).forEach(n=>{const o=this._config.filter(e=>e.id===n);0===o.length?t.push(n):(e[o.shift().name]=e[n],delete e[n])}),t.length>0&&d.warn(u.a.EXPERIMENTS_INVALID,{description:"Experiments could not be mapped to external ids in config",keys:t,config:this._config,methodName:"_resolveIds"})}_removeUnconfigured(e=[]){const t=[];Object.keys(e).forEach(n=>{0===this._config.filter(e=>e.name===n).length&&(t.push(n),delete e[n])}),t.length>0&&d.warn(u.a.EXPERIMENTS_INVALID,{description:"Could not find experiments by name in config",keys:t,config:this._config,methodName:"_removeUnconfigured"})}_removeInvalidChildExperiments(e=[]){const t=this._config.filter(e=>void 0!==e.parent);Object.keys(e).forEach(n=>{const o=t.filter(e=>e.name===n);if(o.length>0){o.length>1&&d.warn(u.a.EXPERIMENTS_INVALID,{description:`Multiple entries found for ${n} in config`,config:this._config,methodName:"_removeInvalidChildExperiments"});const t=e[o.shift().parent]||0;0!==t&&"0"!==t||delete e[n]}})}update(e){const t=l();this._resolveIds(e),this._removeUnconfigured(e),this._removeInvalidChildExperiments(e),this.validate(e)&&(this._cache=Object.assign(this._cache,e,t)),this._throttledUpdateExperiments()}control(){this._cache={};const e={};this._config.forEach(t=>{e[t.name]=0}),this.update(e)}clear(){this._cache={},this.update({})}get experiments(){return this._cache}get configuredExperimentNames(){return this._config.map(e=>e.name)}get configuredOverrideNames(){return Object.keys(l())}_exposure(e){e.forEach((t,n)=>{t.bucket=this._cache[t.name]||null;const o=this._config.filter(e=>e.name===t.name||e.id===t.id),i=o.length?o[0]:{};e[n]=Object.assign({},i,t)}),this._modules.expose(e)}validate(e){return!!Object(s.e)(e)&&Object.keys(e).every(t=>"number"==typeof e[t]||"string"==typeof e[t])}}},302:function(e,t,n){"use strict";var o=n(303),i=n(304),r=n(21),s=n(28);const a=Object(r.b)("ExperimentsFrameworkModules");t.a=class{constructor(e={}){this._target=e,this._modules={abacus:o.a,athena:i.a}}evaluate(e){this.validateExperiments(e),Object.keys(this._modules).forEach(t=>{const n=e.filter(e=>e.module===t);n.length>0&&this._modules[t].evaluate(n,this._target)})}expose(e){Object.keys(this._modules).forEach(t=>{this.validateExperiments(e);const n=e.filter(e=>e.module===t);this._module[t].expose(n,this._target)})}validateExperiments(e){e.forEach(e=>{void 0!==e.module&&(this._modules.hasOwnProperty(e.module)||a.error(s.a.EXPERIMENTS_INVALID,new Error(`Module ${e.module} not found in known experiments modules for experiment ${e.name} at target ${JSON.stringify(this._target)}.`),{methodName:"validateExperiments"}),void 0===e.id&&a.error(s.a.EXPERIMENTS_INVALID,new Error(`Expected property id to be specified when an experiment is configured with a module. No id property was found for ${e.name} at target ${JSON.stringify(this._target)}.`),{methodName:"validateExperiments"}))})}}},303:function(e,t,n){"use strict";var o=n(45),i=n(46),r=n(21),s=n(28);const a=Object(r.b)("abacus"),u=()=>Object(i.b)("DUAID"),c={site:1,user:u(),guid:u(),tpid:(()=>{const e=Object(i.b)("tpid");return null!==e&&e.match(/^.*,[0-9]+$/)?e.split(",")[1]:null})(),eapid:(()=>{const e=Object(i.b)("iEAPID");return null!==e&&e.match(/^[0-9]+$/)?e:null})(),abov:Object(i.b)("abov")};t.a={evaluate:(e,t)=>((e=[],t={})=>new Promise((n,r)=>{if(null===c.guid||null===c.tpid||null===c.eapid)throw new Error("Could not get GUID, TPID, or EAPID from domain cookie.");const u={guid:c.guid,eapid:c.eapid,tpid:c.tpid,id:e.filter(e=>!0!==e.exposure&&"abacus"===e.module&&!1!==e.evaluate).map(e=>e.id),verbose:!0},d={guid:c.guid,eapid:c.eapid,tpid:c.tpid,id:e.filter(e=>!0===e.exposure&&"abacus"===e.module&&!1!==e.evaluate).map(e=>e.id)};t.pageid&&(u.pageName=t.pageid,d.pageName=t.pageid),null!==c.abov&&(u.overrides=c.abov,d.overrides=c.abov);const l=(e,t)=>{Object(i.f)(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),credentials:"same-origin"}).then(e=>e.json()).then(e=>{const t={};e&&e.evaluatedExperiments&&Array.isArray(e.evaluatedExperiments)&&(e.evaluatedExperiments.forEach(e=>{if(e.hasOwnProperty("message")){const t=new Error(e.message);a.error(s.a.EXPERIMENTS_INVALID,t,{methodName:"apiRequest"})}else t[e.id]=parseInt(e.value,10)||0}),window.meso=window.meso||{},window.meso.experiments=window.meso.experiments||[],window.meso.experiments.push({type:"update",experiments:t}))}).then(e=>n(e)).catch(e=>r(e))},m=`${window.location.origin}${o.a.experiments.abacus.endpoint}`;Object.keys(u).length&&l(`${m}/evaluateExperiments`,u),Object.keys(d).length&&l(`${m}/evaluateExperimentsAndLog`,d)}))(e,t),expose:(e,t)=>((e=[],t={})=>new Promise((n,r)=>{if(null===c.guid||null===c.tpid||null===c.eapid)throw new Error("Could not get GUID, TPID, or EAPID from domain cookie.");const u={guid:c.guid,eapid:c.eapid,tpid:c.tpid,evaluatedExperiments:e.filter(e=>"abacus"===e.module).map(e=>({id:e.id,value:e.bucket}))};t.pageid&&(u.pageName=t.pageid);const d=`${window.location.origin}${o.a.abacus.endpoint}/logExperiments`;Object(i.f)(d,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(u),credentials:"same-origin"}).then(e=>e.json()).then(e=>{e&&Array.isArray(e.successes)&&Array.isArray(e.failures)&&(e.successes.forEach(e=>a.info(`Successful exposure for Abacus experiment ${e.id}`,{data:e,methodName:"abacusExposureRequest"})),e.failures.forEach(e=>a.error(s.a.EXPERIMENTS_EXPOSURE_FAILED,e,{description:`Failed exposure for Abacus experiment ${e.message.id}`,methodName:"abacusExposureRequest"})))}).then(e=>n(e)).catch(e=>r(e))}))(e,t)}},304:function(e,t,n){"use strict";var o=n(21),i=n(28);const r=Object(o.b)("athena"),s=(e=[])=>{if(window&&window.commonDataBlock&&window.commonDataBlock.mvtHistory&&window.commonDataBlock.mvtHistory.athenaMvts){const t={};e.forEach(e=>{let n=(e=>{const t=new RegExp(`(${e}[^,]+)`),n=window.commonDataBlock.mvtHistory.athenaMvts.match(t)||[],o=n.length>1?n[1].split("."):[];return o.length>0?parseInt(o.pop(),10):-1})(e.id);if(-1===n){n=0;const t=new Error(`Could not find hmvt ${e.id}, defaulted to 0 as control`);r.error(i.a.EXPERIMENTS_INVALID,t,{methodName:"athenaEvaluateRequest"})}t[e.id]=n}),window.meso=window.meso||{},window.meso.experiments=window.meso.experiments||[],window.meso.experiments.push({type:"update",experiments:t})}else{const e=new Error("commonDataBlock mvtHistory is not defined");r.error(i.a.EXPERIMENTS_INVALID,e,{methodName:"athenaEvaluateRequest"})}};t.a={evaluate:e=>s(e),expose:()=>{}}},305:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(66);const i=(e,t=[],n=[],i={})=>{const r=new class extends o.a{constructor(e,t=[],n=[]){super(e,t),this._priorityOrder=n,this._invalidEvents=this._unExecutedEvents.filter(e=>!this._isValidEvent(e)),this._unExecutedEvents=this._unExecutedEvents.filter(e=>this._isValidEvent(e)),this._sortEvents()}executeQueue(e=this._unExecutedEvents.length){const t=[];this._priorityOrder.forEach(n=>{let o=e;const i=this._unExecutedEvents.filter(e=>e.type===n);for(;i.length>0&&o>0;)this.push(i.pop()),o-=1;t.concat(i)}),this._unExecutedEvents=t}_isValidEvent(e){return"object"==typeof e&&null!==e&&void 0!==e.type&&-1!==this._priorityOrder.indexOf(e.type)}_sortEvents(){this._unExecutedEvents.sort((e,t)=>{const n=this._priorityOrder.indexOf(e.type),o=this._priorityOrder.indexOf(t.type);return-1===n||-1===o?0:n-o})}get invalidEvents(){return this._invalidEvents}}(e,t,n);return r.executeQueue(i.limit),i.observable&&(r.observe=((e,t,n)=>i.observable.observe(e,t,n))),r}},306:function(e,t,n){"use strict";var o=n(66);let i=null;const r={info:()=>{},warn:()=>{},error:()=>{},trackEvent:()=>{},trackAction:()=>{}},s=e=>{if(null!==i){if(e&&e.type)switch(e.type){case"info":i.info(e.message||"",e.extra||void 0),this.info&&e.message&&this.info(e.message,e.extra);break;case"warn":i.warn(e.message||"",e.extra||void 0),this.warn&&e.message&&this.warn(e.message,e.extra);break;case"error":i.error(e.message||"",e.extra||void 0);break;case"track-event":i.trackEvent(e.name,e.vars,e.events);break;case"track-action":i.trackAction(e.name,e.vars,e.events);break;default:console.log(e.message)}}else console.warn("Logging queue executed before logger initialized.")};t.a={initialize:e=>{(e=>{Object.keys(r).forEach(t=>{e&&e[t]&&"function"==typeof e[t]||console.warn(`Missing ${t} method on passed logger interface.`)})})(e),i=e,window.meso=window.meso||{},window.meso.logging=window.meso.logging||[],window.meso.logging.isEventQueue||(window.meso.logging=Object(o.b)(s,window.meso.logging))}}},307:function(e,t,n){"use strict";t.a=class{constructor(){this._count=0,this._events={}}add(e,t={}){if("function"!=typeof e)throw new Error("Targeting notify requires a function for a callback.");const n=this._count,o=()=>delete this._events[n];return this._events[n]=[e,t,o],this._count+=1,o}notify(...e){Object.keys(this._events).forEach(t=>{const[n,o,i]=this._events[t];n(...e),o.runOnce&&i()})}get events(){return this._events}}},308:function(e,t,n){"use strict";var o=n(122),i=n.n(o),r=n(66),s=n(21),a=n(28),u=n(45),c=n(309),d=n(81);let l={},m={},p=null,h={},f=0,g=0;const w=Object(s.b)("targeting"),F=()=>{let e={};try{e=window&&window.localStorage&&window.localStorage.getItem(u.a.meso.storage.targeting),e=(e=>{const t=e||{},n=new Set(["cmptst","CMPTST"]);return Object.keys(t).reduce((t,o)=>(n.has(o)||(t[o]=e[o]),t),{})})(JSON.parse(e))}catch(t){w.error(a.a.TARGETING_INVALID,t,{description:"Error reading targeting from local storage",methodName:"getLocalStorageTargetingData"}),e={}}return e},v=()=>Promise.all([Promise.resolve(l),Promise.resolve(F())]).then(e=>Object.assign({},...e)),b=e=>{l=e,(e=>{window.localStorage&&window.localStorage.setItem(u.a.meso.storage.targeting,JSON.stringify(e))})(e)},E=e=>!0===e?"1":!1===e?"0":Array.isArray(e)?String(e.map(e=>E(e))):String(e),y=e=>{document.dispatchEvent(new CustomEvent("MesoTargeting",{detail:{type:"update",targeting:e,adinfoLastUpdated:f,targetingLastUpdated:g}}))},_=(e={})=>{const t=c.a.getSiteId();if(null===p||((e={})=>{return void 0!==Object.keys(e).find(t=>e[t]!==h[t])})(e.adinfo)){const t=e.adinfo&&e.adinfo.dest?{dest:e.adinfo.dest}:{};p=((e={})=>(e=>"true"===`${e}`)(Object(d.b)("canTrack"))?c.a.fetchTargeting(e).then(t=>(f=Date.now(),w.info("Request to adinfo success",{data:e,methodName:"adinfoTargeting"}),t&&t.targeting||{})).catch(t=>(w.error(a.a.TARGETING_FETCH_ERROR,t,{params:e,methodName:"adinfoTargeting"}),f=Date.now(),{})):Promise.resolve({}))(t),h=Object.assign({},h,e.adinfo)}else p=Promise.resolve({});const n=[v(),p,Promise.resolve(e.targeting||{})];Promise.all(n).then(e=>{if(121===parseInt(t,10)){const t=e[1].pd||[],n=e[0].pd?e[0].pd.split(","):[],o=e[2].d?e[2].d.split(","):[],i=[...n,...t,...o];e[1].pd=i.filter((e,t)=>i.indexOf(e)===t)}return Object.assign({},...e)}).then(e=>(e=>Object.keys(e).reduce((t,n)=>(t[n]=E(e[n]),t),{}))(e)).then(e=>{(e=>{for(const t in e)if(e[t]!==l[t])return!0;return!1})(e)&&(g=Date.now(),b(e),y(e))}).catch(e=>{w.error(a.a.TARGETING_UPDATE_ERROR,e,{methodName:"updateAndDispatch"})})},O=i()(()=>{_(m),m={}},0,{leading:!1,trailing:!0}),A=(e={})=>{m=Object.assign(m,e),O()};t.a={initialize:()=>{window.meso=window.meso||{},window.meso.targeting=window.meso.targeting||[],window.meso.targeting.isEventQueue||(Object(r.b)(A,window.meso.targeting,{},"targeting"),c.a.initialize(),document.addEventListener("MesoTargeting",e=>{"register"===(e&&e.detail&&e.detail.type)&&v().then(e=>{y(e)})}),v().then(e=>{y(e)}))}}},309:function(e,t,n){"use strict";var o=n(45),i=n(80),r=n.n(i),s=n(46),a=n(21);const u=Object(a.b)("adinfo");let c=0;t.a={fetchTargeting:(e={})=>{const t=Object.assign({siteId:c||"",userId:(()=>{const e=document.cookie.match("(^|;) ?DUAID=([^;]*)(;|$)");return e?e[2]:"null"})(),_:Date.now()},e),n=r.a.stringify(t),i=`${o.a.uciservice}/adinfo?${n}`;return window.performance.mark("AdInfoRequest"),Object(s.f)(i,{credentials:"include",mode:"cors"}).then(e=>{if(u.perf("AdInfo Request",{mark:"AdInfoRequest",endpoint:i}),e&&e.errors&&e.errors.length>0)throw new Error(`Could not retrieve targeting information from ${i}`);return e.json()})},initialize:()=>{"undefined"!=typeof window&&window.meso&&window.meso.adcontext&&"function"==typeof window.meso.adcontext.observe&&window.meso.adcontext.observe("adinfo",e=>e.includes("siteId"),e=>{c=e.siteId})},getSiteId:()=>c}},310:function(e,t,n){"use strict";const o=["mesoRender"];t.a={initEvents:()=>{window&&o.forEach(e=>{new CustomEvent(e)})}}},311:function(e,t,n){"use strict";var o=n(66);const i=new(n(170).a.Observable)({}),r=e=>{i.update(e)},s=()=>Object.assign({},i.value);t.a={initEvents:()=>{window.meso=window.meso||{},window.meso.adcontext=window.meso.adcontext||[],window.meso.adcontext.isEventQueue||(window.meso.adcontext=Object(o.b)(r,window.meso.adcontext,{observable:i}),window.meso.adcontext.getAdContext=s)}}},312:function(e,t,n){"use strict";var o=n(81);t.a={initialize:()=>{window&&(window.meso=window.meso||{},window.meso.privacy=window.meso.privacy||{},window.meso.privacy.getAll=o.a,window.meso.privacy.get=o.b)}}},45:function(e,t,n){"use strict";var o=n(289);n(290);let i;i=o.a,t.a=i},46:function(e,t,n){"use strict";var o=n(45);t.a=(e=>{return e.match(/(?!\.)([a-zA-Z0-9\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF.!#$%&'*+-/=?^_`{|}~\-\d]+)(?:@|%(?:25)*40)(?!\.)([a-zA-Z0-9\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF\-.\d]+)((\.([a-zA-Z\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF]){2,63})+)/i)});t.g=((e,t={})=>new Promise(n=>{const o=document.body.getElementsByTagName("script");for(let t=0;t<o.length;t++)if(o[t].getAttribute("src")===e)return void n(o[t]);const i=["defer","async"],r=document.createElement("script");r.onload=(()=>{n(r)}),Object.keys(t).forEach(e=>{-1!==i.indexOf(e)&&(r[e]=t[e])}),r.src=e,document.body.appendChild(r)}));t.f=((e,t={})=>{const n=t&&t.timeout||o.a.fetchTimeout;return Promise.race([fetch(e,t),new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout")),n))])});t.b=(e=>{const t=document.cookie.match(`(^|;) ?${e}=([^;]*)(;|$)`);return t?t[2]:null});t.h=((e,t,n=30)=>{const o=new Date;o.setTime(o.getTime()+864e5*n),document.cookie=`${e}=${t};path=/;expires=${o.toGMTString()};`});t.e=(e=>e&&"object"==typeof e&&e.constructor===Object);t.c=(()=>window&&window.meso&&window.meso.breakpoints&&window.meso.breakpoints.current||null);t.d=(e=>{const t=window&&window.meso&&window.meso.experiments&&window.meso.experiments.executedEvents&&window.meso.experiments.executedEvents.find(({experiments:t})=>t.hasOwnProperty(e));return t?t.experiments[e]:null});const i=(()=>{if("undefined"==typeof window)return;const e=[{name:"Chrome",value:"Chrome",version:"Chrome"},{name:"Firefox",value:"Firefox",version:"Firefox"},{name:"Safari",value:"Safari",version:"Version"},{name:"Internet Explorer",value:"MSIE",version:"MSIE"},{name:"Opera",value:"Opera",version:"Opera"},{name:"BlackBerry",value:"CLDC",version:"CLDC"},{name:"Mozilla",value:"Mozilla",version:"Mozilla"}],t={userAgent:window.navigator&&window.navigator.userAgent||"",userAgentName:"unknown",userAgentVersion:0};for(let n=0;n<e.length;n+=1)if(new RegExp(e[n].value,"i").test(t.userAgent)){const o=t.userAgent.match(new RegExp(`${e[n].version}[- /:;]([\\d._]+)`,"i"));if(o&&o.length>0)return t.userAgentVersion=o[1],t.userAgentName=e[n].name,t}return t})();t.i=i},66:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});class o{constructor(e,t=[]){if(!Array.isArray(t))throw new Error("Meso event queue requires an array.");this._callback=e,this._executedEvents=[],this._unExecutedEvents=t,this.isEventQueue=!0}push(...e){this._executedEvents.push(...e),this._callback(...e)}executeQueue(e=this._unExecutedEvents.length){for(;this._unExecutedEvents.length>0&&e>0;)this.push(this._unExecutedEvents.pop()),e-=1}get executedEvents(){return this._executedEvents}get unExecutedEvents(){return this._unExecutedEvents}}const i=(e,t=[],n={},i)=>{const r=new o(e,t);return void 0!==i&&(window.meso[i]=r),r.executeQueue(n.limit),n.observable&&(r.observe=((e,t,o)=>n.observable.observe(e,t,o))),r}},80:function(e,t,n){"use strict";var o=n(118),i=n(119),r=n(120);function s(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,o){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=n):o[e]=n};case"bracket":return function(e,n,o){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],n):o[e]=[n]:o[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),o=Object.create(null);return"string"!=typeof e?o:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:r(s),n(r(i),s,o)}),Object.keys(o).sort().reduce(function(e,t){var n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))):o},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,o){return null===n?[s(t,e),"[",o,"]"].join(""):[s(t,e),"[",s(o,e),"]=",s(n,e)].join("")};case"bracket":return function(t,n){return null===n?s(t,e):[s(t,e),"[]=",s(n,e)].join("")};default:return function(t,n){return null===n?s(t,e):[s(t,e),"=",s(n,e)].join("")}}}(t=i({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map(function(o){var i=e[o];if(void 0===i)return"";if(null===i)return s(o,t);if(Array.isArray(i)){var r=[];return i.slice().forEach(function(e){void 0!==e&&r.push(n(o,e,r.length))}),r.join("&")}return s(o,t)+"="+s(i,t)}).filter(function(e){return e.length>0}).join("&"):""}},81:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a});var o=n(300);let i=Object.assign({},o.a);const r=()=>Object.assign({},i),s=e=>{const t=r();if(t.hasOwnProperty(e))return t[e];throw new Error(`${e} is not a recognized privacy key`)},a=(e,t)=>{if(!i.hasOwnProperty(e))throw new Error(`${e} is not a recognized privacy key`);i[e]=t}},9:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}});
//# sourceMappingURL=ads-loader.js.map